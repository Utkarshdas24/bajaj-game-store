import{r as f,j as c}from"./index-CqxvVRvx.js";function po(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}const os=f.createContext({});function as(e){const t=f.useRef(null);return t.current===null&&(t.current=e()),t.current}const mt=f.createContext(null),ls=f.createContext({transformPagePoint:e=>e,isStatic:!1,reducedMotion:"never"});class go extends f.Component{getSnapshotBeforeUpdate(t){const s=this.props.childRef.current;if(s&&t.isPresent&&!this.props.isPresent){const n=this.props.sizeRef.current;n.height=s.offsetHeight||0,n.width=s.offsetWidth||0,n.top=s.offsetTop,n.left=s.offsetLeft}return null}componentDidUpdate(){}render(){return this.props.children}}function xo({children:e,isPresent:t}){const s=f.useId(),n=f.useRef(null),i=f.useRef({width:0,height:0,top:0,left:0}),{nonce:o}=f.useContext(ls);return f.useInsertionEffect(()=>{const{width:r,height:l,top:a,left:u}=i.current;if(t||!n.current||!r||!l)return;n.current.dataset.motionPopId=s;const d=document.createElement("style");return o&&(d.nonce=o),document.head.appendChild(d),d.sheet&&d.sheet.insertRule(`
          [data-motion-pop-id="${s}"] {
            position: absolute !important;
            width: ${r}px !important;
            height: ${l}px !important;
            top: ${a}px !important;
            left: ${u}px !important;
          }
        `),()=>{document.head.removeChild(d)}},[t]),c.jsx(go,{isPresent:t,childRef:n,sizeRef:i,children:f.cloneElement(e,{ref:n})})}const yo=({children:e,initial:t,isPresent:s,onExitComplete:n,custom:i,presenceAffectsLayout:o,mode:r})=>{const l=as(vo),a=f.useId(),u=f.useCallback(h=>{l.set(h,!0);for(const m of l.values())if(!m)return;n&&n()},[l,n]),d=f.useMemo(()=>({id:a,initial:t,isPresent:s,custom:i,onExitComplete:u,register:h=>(l.set(h,!1),()=>l.delete(h))}),o?[Math.random(),u]:[s,u]);return f.useMemo(()=>{l.forEach((h,m)=>l.set(m,!1))},[s]),f.useEffect(()=>{!s&&!l.size&&n&&n()},[s]),r==="popLayout"&&(e=c.jsx(xo,{isPresent:s,children:e})),c.jsx(mt.Provider,{value:d,children:e})};function vo(){return new Map}function ki(e=!0){const t=f.useContext(mt);if(t===null)return[!0,null];const{isPresent:s,onExitComplete:n,register:i}=t,o=f.useId();f.useEffect(()=>{e&&i(o)},[e]);const r=f.useCallback(()=>e&&n&&n(o),[o,n,e]);return!s&&n?[!1,r]:[!0]}const Ze=e=>e.key||"";function en(e){const t=[];return f.Children.forEach(e,s=>{f.isValidElement(s)&&t.push(s)}),t}const cs=typeof window<"u",Ni=cs?f.useLayoutEffect:f.useEffect,je=({children:e,custom:t,initial:s=!0,onExitComplete:n,presenceAffectsLayout:i=!0,mode:o="sync",propagate:r=!1})=>{const[l,a]=ki(r),u=f.useMemo(()=>en(e),[e]),d=r&&!l?[]:u.map(Ze),h=f.useRef(!0),m=f.useRef(u),p=as(()=>new Map),[g,x]=f.useState(u),[v,b]=f.useState(u);Ni(()=>{h.current=!1,m.current=u;for(let C=0;C<v.length;C++){const w=Ze(v[C]);d.includes(w)?p.delete(w):p.get(w)!==!0&&p.set(w,!1)}},[v,d.length,d.join("-")]);const y=[];if(u!==g){let C=[...u];for(let w=0;w<v.length;w++){const k=v[w],P=Ze(k);d.includes(P)||(C.splice(w,0,k),y.push(k))}o==="wait"&&y.length&&(C=y),b(en(C)),x(u);return}const{forceRender:S}=f.useContext(os);return c.jsx(c.Fragment,{children:v.map(C=>{const w=Ze(C),k=r&&!l?!1:u===v||d.includes(w),P=()=>{if(p.has(w))p.set(w,!0);else return;let T=!0;p.forEach(E=>{E||(T=!1)}),T&&(S==null||S(),b(m.current),r&&(a==null||a()),n&&n())};return c.jsx(yo,{isPresent:k,initial:!h.current||s?void 0:!1,custom:k?void 0:t,presenceAffectsLayout:i,mode:o,onExitComplete:k?void 0:P,children:C},w)})})},G=e=>e;let Ai=G;function us(e){let t;return()=>(t===void 0&&(t=e()),t)}const Ce=(e,t,s)=>{const n=t-e;return n===0?1:(s-e)/n},Q=e=>e*1e3,ee=e=>e/1e3,bo={useManualTiming:!1};function wo(e){let t=new Set,s=new Set,n=!1,i=!1;const o=new WeakSet;let r={delta:0,timestamp:0,isProcessing:!1};function l(u){o.has(u)&&(a.schedule(u),e()),u(r)}const a={schedule:(u,d=!1,h=!1)=>{const p=h&&n?t:s;return d&&o.add(u),p.has(u)||p.add(u),u},cancel:u=>{s.delete(u),o.delete(u)},process:u=>{if(r=u,n){i=!0;return}n=!0,[t,s]=[s,t],t.forEach(l),t.clear(),n=!1,i&&(i=!1,a.process(u))}};return a}const Je=["read","resolveKeyframes","update","preRender","render","postRender"],So=40;function Ei(e,t){let s=!1,n=!0;const i={delta:0,timestamp:0,isProcessing:!1},o=()=>s=!0,r=Je.reduce((b,y)=>(b[y]=wo(o),b),{}),{read:l,resolveKeyframes:a,update:u,preRender:d,render:h,postRender:m}=r,p=()=>{const b=performance.now();s=!1,i.delta=n?1e3/60:Math.max(Math.min(b-i.timestamp,So),1),i.timestamp=b,i.isProcessing=!0,l.process(i),a.process(i),u.process(i),d.process(i),h.process(i),m.process(i),i.isProcessing=!1,s&&t&&(n=!1,e(p))},g=()=>{s=!0,n=!0,i.isProcessing||e(p)};return{schedule:Je.reduce((b,y)=>{const S=r[y];return b[y]=(C,w=!1,k=!1)=>(s||g(),S.schedule(C,w,k)),b},{}),cancel:b=>{for(let y=0;y<Je.length;y++)r[Je[y]].cancel(b)},state:i,steps:r}}const{schedule:M,cancel:ie,state:O,steps:Pt}=Ei(typeof requestAnimationFrame<"u"?requestAnimationFrame:G,!0),Mi=f.createContext({strict:!1}),tn={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},Pe={};for(const e in tn)Pe[e]={isEnabled:t=>tn[e].some(s=>!!t[s])};function To(e){for(const t in e)Pe[t]={...Pe[t],...e[t]}}const jo=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function rt(e){return e.startsWith("while")||e.startsWith("drag")&&e!=="draggable"||e.startsWith("layout")||e.startsWith("onTap")||e.startsWith("onPan")||e.startsWith("onLayout")||jo.has(e)}let Ri=e=>!rt(e);function Co(e){e&&(Ri=t=>t.startsWith("on")?!rt(t):e(t))}try{Co(require("@emotion/is-prop-valid").default)}catch{}function Po(e,t,s){const n={};for(const i in e)i==="values"&&typeof e.values=="object"||(Ri(i)||s===!0&&rt(i)||!t&&!rt(i)||e.draggable&&i.startsWith("onDrag"))&&(n[i]=e[i]);return n}function ko(e){if(typeof Proxy>"u")return e;const t=new Map,s=(...n)=>e(...n);return new Proxy(s,{get:(n,i)=>i==="create"?e:(t.has(i)||t.set(i,e(i)),t.get(i))})}const ft=f.createContext({});function _e(e){return typeof e=="string"||Array.isArray(e)}function pt(e){return e!==null&&typeof e=="object"&&typeof e.start=="function"}const ds=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],hs=["initial",...ds];function gt(e){return pt(e.animate)||hs.some(t=>_e(e[t]))}function Di(e){return!!(gt(e)||e.variants)}function No(e,t){if(gt(e)){const{initial:s,animate:n}=e;return{initial:s===!1||_e(s)?s:void 0,animate:_e(n)?n:void 0}}return e.inherit!==!1?t:{}}function Ao(e){const{initial:t,animate:s}=No(e,f.useContext(ft));return f.useMemo(()=>({initial:t,animate:s}),[sn(t),sn(s)])}function sn(e){return Array.isArray(e)?e.join(" "):e}const Eo=Symbol.for("motionComponentSymbol");function ve(e){return e&&typeof e=="object"&&Object.prototype.hasOwnProperty.call(e,"current")}function Mo(e,t,s){return f.useCallback(n=>{n&&e.onMount&&e.onMount(n),t&&(n?t.mount(n):t.unmount()),s&&(typeof s=="function"?s(n):ve(s)&&(s.current=n))},[t])}const ms=e=>e.replace(/([a-z])([A-Z])/gu,"$1-$2").toLowerCase(),Ro="framerAppearId",Vi="data-"+ms(Ro),{schedule:fs}=Ei(queueMicrotask,!1),Li=f.createContext({});function Do(e,t,s,n,i){var o,r;const{visualElement:l}=f.useContext(ft),a=f.useContext(Mi),u=f.useContext(mt),d=f.useContext(ls).reducedMotion,h=f.useRef(null);n=n||a.renderer,!h.current&&n&&(h.current=n(e,{visualState:t,parent:l,props:s,presenceContext:u,blockInitialAnimation:u?u.initial===!1:!1,reducedMotionConfig:d}));const m=h.current,p=f.useContext(Li);m&&!m.projection&&i&&(m.type==="html"||m.type==="svg")&&Vo(h.current,s,i,p);const g=f.useRef(!1);f.useInsertionEffect(()=>{m&&g.current&&m.update(s,u)});const x=s[Vi],v=f.useRef(!!x&&!(!((o=window.MotionHandoffIsComplete)===null||o===void 0)&&o.call(window,x))&&((r=window.MotionHasOptimisedAnimation)===null||r===void 0?void 0:r.call(window,x)));return Ni(()=>{m&&(g.current=!0,window.MotionIsMounted=!0,m.updateFeatures(),fs.render(m.render),v.current&&m.animationState&&m.animationState.animateChanges())}),f.useEffect(()=>{m&&(!v.current&&m.animationState&&m.animationState.animateChanges(),v.current&&(queueMicrotask(()=>{var b;(b=window.MotionHandoffMarkAsComplete)===null||b===void 0||b.call(window,x)}),v.current=!1))}),m}function Vo(e,t,s,n){const{layoutId:i,layout:o,drag:r,dragConstraints:l,layoutScroll:a,layoutRoot:u}=t;e.projection=new s(e.latestValues,t["data-framer-portal-id"]?void 0:Ii(e.parent)),e.projection.setOptions({layoutId:i,layout:o,alwaysMeasureLayout:!!r||l&&ve(l),visualElement:e,animationType:typeof o=="string"?o:"both",initialPromotionConfig:n,layoutScroll:a,layoutRoot:u})}function Ii(e){if(e)return e.options.allowProjection!==!1?e.projection:Ii(e.parent)}function Lo({preloadedFeatures:e,createVisualElement:t,useRender:s,useVisualState:n,Component:i}){var o,r;e&&To(e);function l(u,d){let h;const m={...f.useContext(ls),...u,layoutId:Io(u)},{isStatic:p}=m,g=Ao(u),x=n(u,p);if(!p&&cs){Fo();const v=Bo(m);h=v.MeasureLayout,g.visualElement=Do(i,x,m,t,v.ProjectionNode)}return c.jsxs(ft.Provider,{value:g,children:[h&&g.visualElement?c.jsx(h,{visualElement:g.visualElement,...m}):null,s(i,u,Mo(x,g.visualElement,d),x,p,g.visualElement)]})}l.displayName=`motion.${typeof i=="string"?i:`create(${(r=(o=i.displayName)!==null&&o!==void 0?o:i.name)!==null&&r!==void 0?r:""})`}`;const a=f.forwardRef(l);return a[Eo]=i,a}function Io({layoutId:e}){const t=f.useContext(os).id;return t&&e!==void 0?t+"-"+e:e}function Fo(e,t){f.useContext(Mi).strict}function Bo(e){const{drag:t,layout:s}=Pe;if(!t&&!s)return{};const n={...t,...s};return{MeasureLayout:t!=null&&t.isEnabled(e)||s!=null&&s.isEnabled(e)?n.MeasureLayout:void 0,ProjectionNode:n.ProjectionNode}}const Oo=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function ps(e){return typeof e!="string"||e.includes("-")?!1:!!(Oo.indexOf(e)>-1||/[A-Z]/u.test(e))}function nn(e){const t=[{},{}];return e==null||e.values.forEach((s,n)=>{t[0][n]=s.get(),t[1][n]=s.getVelocity()}),t}function gs(e,t,s,n){if(typeof t=="function"){const[i,o]=nn(n);t=t(s!==void 0?s:e.custom,i,o)}if(typeof t=="string"&&(t=e.variants&&e.variants[t]),typeof t=="function"){const[i,o]=nn(n);t=t(s!==void 0?s:e.custom,i,o)}return t}const zt=e=>Array.isArray(e),_o=e=>!!(e&&typeof e=="object"&&e.mix&&e.toValue),$o=e=>zt(e)?e[e.length-1]||0:e,U=e=>!!(e&&e.getVelocity);function tt(e){const t=U(e)?e.get():e;return _o(t)?t.toValue():t}function Uo({scrapeMotionValuesFromProps:e,createRenderState:t,onUpdate:s},n,i,o){const r={latestValues:zo(n,i,o,e),renderState:t()};return s&&(r.onMount=l=>s({props:n,current:l,...r}),r.onUpdate=l=>s(l)),r}const Fi=e=>(t,s)=>{const n=f.useContext(ft),i=f.useContext(mt),o=()=>Uo(e,t,n,i);return s?o():as(o)};function zo(e,t,s,n){const i={},o=n(e,{});for(const m in o)i[m]=tt(o[m]);let{initial:r,animate:l}=e;const a=gt(e),u=Di(e);t&&u&&!a&&e.inherit!==!1&&(r===void 0&&(r=t.initial),l===void 0&&(l=t.animate));let d=s?s.initial===!1:!1;d=d||r===!1;const h=d?l:r;if(h&&typeof h!="boolean"&&!pt(h)){const m=Array.isArray(h)?h:[h];for(let p=0;p<m.length;p++){const g=gs(e,m[p]);if(g){const{transitionEnd:x,transition:v,...b}=g;for(const y in b){let S=b[y];if(Array.isArray(S)){const C=d?S.length-1:0;S=S[C]}S!==null&&(i[y]=S)}for(const y in x)i[y]=x[y]}}}return i}const Ne=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],ye=new Set(Ne),Bi=e=>t=>typeof t=="string"&&t.startsWith(e),Oi=Bi("--"),Wo=Bi("var(--"),xs=e=>Wo(e)?Go.test(e.split("/*")[0].trim()):!1,Go=/var\(--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)$/iu,_i=(e,t)=>t&&typeof e=="number"?t.transform(e):e,te=(e,t,s)=>s>t?t:s<e?e:s,Ae={test:e=>typeof e=="number",parse:parseFloat,transform:e=>e},$e={...Ae,transform:e=>te(0,1,e)},Qe={...Ae,default:1},Ge=e=>({test:t=>typeof t=="string"&&t.endsWith(e)&&t.split(" ").length===1,parse:parseFloat,transform:t=>`${t}${e}`}),ne=Ge("deg"),Z=Ge("%"),N=Ge("px"),qo=Ge("vh"),Ko=Ge("vw"),rn={...Z,parse:e=>Z.parse(e)/100,transform:e=>Z.transform(e*100)},Ho={borderWidth:N,borderTopWidth:N,borderRightWidth:N,borderBottomWidth:N,borderLeftWidth:N,borderRadius:N,radius:N,borderTopLeftRadius:N,borderTopRightRadius:N,borderBottomRightRadius:N,borderBottomLeftRadius:N,width:N,maxWidth:N,height:N,maxHeight:N,top:N,right:N,bottom:N,left:N,padding:N,paddingTop:N,paddingRight:N,paddingBottom:N,paddingLeft:N,margin:N,marginTop:N,marginRight:N,marginBottom:N,marginLeft:N,backgroundPositionX:N,backgroundPositionY:N},Yo={rotate:ne,rotateX:ne,rotateY:ne,rotateZ:ne,scale:Qe,scaleX:Qe,scaleY:Qe,scaleZ:Qe,skew:ne,skewX:ne,skewY:ne,distance:N,translateX:N,translateY:N,translateZ:N,x:N,y:N,z:N,perspective:N,transformPerspective:N,opacity:$e,originX:rn,originY:rn,originZ:N},on={...Ae,transform:Math.round},ys={...Ho,...Yo,zIndex:on,size:N,fillOpacity:$e,strokeOpacity:$e,numOctaves:on},Xo={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},Zo=Ne.length;function Jo(e,t,s){let n="",i=!0;for(let o=0;o<Zo;o++){const r=Ne[o],l=e[r];if(l===void 0)continue;let a=!0;if(typeof l=="number"?a=l===(r.startsWith("scale")?1:0):a=parseFloat(l)===0,!a||s){const u=_i(l,ys[r]);if(!a){i=!1;const d=Xo[r]||r;n+=`${d}(${u}) `}s&&(t[r]=u)}}return n=n.trim(),s?n=s(t,i?"":n):i&&(n="none"),n}function vs(e,t,s){const{style:n,vars:i,transformOrigin:o}=e;let r=!1,l=!1;for(const a in t){const u=t[a];if(ye.has(a)){r=!0;continue}else if(Oi(a)){i[a]=u;continue}else{const d=_i(u,ys[a]);a.startsWith("origin")?(l=!0,o[a]=d):n[a]=d}}if(t.transform||(r||s?n.transform=Jo(t,e.transform,s):n.transform&&(n.transform="none")),l){const{originX:a="50%",originY:u="50%",originZ:d=0}=o;n.transformOrigin=`${a} ${u} ${d}`}}const Qo={offset:"stroke-dashoffset",array:"stroke-dasharray"},ea={offset:"strokeDashoffset",array:"strokeDasharray"};function ta(e,t,s=1,n=0,i=!0){e.pathLength=1;const o=i?Qo:ea;e[o.offset]=N.transform(-n);const r=N.transform(t),l=N.transform(s);e[o.array]=`${r} ${l}`}function an(e,t,s){return typeof e=="string"?e:N.transform(t+s*e)}function sa(e,t,s){const n=an(t,e.x,e.width),i=an(s,e.y,e.height);return`${n} ${i}`}function bs(e,{attrX:t,attrY:s,attrScale:n,originX:i,originY:o,pathLength:r,pathSpacing:l=1,pathOffset:a=0,...u},d,h){if(vs(e,u,h),d){e.style.viewBox&&(e.attrs.viewBox=e.style.viewBox);return}e.attrs=e.style,e.style={};const{attrs:m,style:p,dimensions:g}=e;m.transform&&(g&&(p.transform=m.transform),delete m.transform),g&&(i!==void 0||o!==void 0||p.transform)&&(p.transformOrigin=sa(g,i!==void 0?i:.5,o!==void 0?o:.5)),t!==void 0&&(m.x=t),s!==void 0&&(m.y=s),n!==void 0&&(m.scale=n),r!==void 0&&ta(m,r,l,a,!1)}const ws=()=>({style:{},transform:{},transformOrigin:{},vars:{}}),$i=()=>({...ws(),attrs:{}}),Ss=e=>typeof e=="string"&&e.toLowerCase()==="svg";function Ui(e,{style:t,vars:s},n,i){Object.assign(e.style,t,i&&i.getProjectionStyles(n));for(const o in s)e.style.setProperty(o,s[o])}const zi=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function Wi(e,t,s,n){Ui(e,t,void 0,n);for(const i in t.attrs)e.setAttribute(zi.has(i)?i:ms(i),t.attrs[i])}const ot={};function na(e){Object.assign(ot,e)}function Gi(e,{layout:t,layoutId:s}){return ye.has(e)||e.startsWith("origin")||(t||s!==void 0)&&(!!ot[e]||e==="opacity")}function Ts(e,t,s){var n;const{style:i}=e,o={};for(const r in i)(U(i[r])||t.style&&U(t.style[r])||Gi(r,e)||((n=s==null?void 0:s.getValue(r))===null||n===void 0?void 0:n.liveStyle)!==void 0)&&(o[r]=i[r]);return o}function qi(e,t,s){const n=Ts(e,t,s);for(const i in e)if(U(e[i])||U(t[i])){const o=Ne.indexOf(i)!==-1?"attr"+i.charAt(0).toUpperCase()+i.substring(1):i;n[o]=e[i]}return n}function ia(e,t){try{t.dimensions=typeof e.getBBox=="function"?e.getBBox():e.getBoundingClientRect()}catch{t.dimensions={x:0,y:0,width:0,height:0}}}const ln=["x","y","width","height","cx","cy","r"],ra={useVisualState:Fi({scrapeMotionValuesFromProps:qi,createRenderState:$i,onUpdate:({props:e,prevProps:t,current:s,renderState:n,latestValues:i})=>{if(!s)return;let o=!!e.drag;if(!o){for(const l in i)if(ye.has(l)){o=!0;break}}if(!o)return;let r=!t;if(t)for(let l=0;l<ln.length;l++){const a=ln[l];e[a]!==t[a]&&(r=!0)}r&&M.read(()=>{ia(s,n),M.render(()=>{bs(n,i,Ss(s.tagName),e.transformTemplate),Wi(s,n)})})}})},oa={useVisualState:Fi({scrapeMotionValuesFromProps:Ts,createRenderState:ws})};function Ki(e,t,s){for(const n in t)!U(t[n])&&!Gi(n,s)&&(e[n]=t[n])}function aa({transformTemplate:e},t){return f.useMemo(()=>{const s=ws();return vs(s,t,e),Object.assign({},s.vars,s.style)},[t])}function la(e,t){const s=e.style||{},n={};return Ki(n,s,e),Object.assign(n,aa(e,t)),n}function ca(e,t){const s={},n=la(e,t);return e.drag&&e.dragListener!==!1&&(s.draggable=!1,n.userSelect=n.WebkitUserSelect=n.WebkitTouchCallout="none",n.touchAction=e.drag===!0?"none":`pan-${e.drag==="x"?"y":"x"}`),e.tabIndex===void 0&&(e.onTap||e.onTapStart||e.whileTap)&&(s.tabIndex=0),s.style=n,s}function ua(e,t,s,n){const i=f.useMemo(()=>{const o=$i();return bs(o,t,Ss(n),e.transformTemplate),{...o.attrs,style:{...o.style}}},[t]);if(e.style){const o={};Ki(o,e.style,e),i.style={...o,...i.style}}return i}function da(e=!1){return(s,n,i,{latestValues:o},r)=>{const a=(ps(s)?ua:ca)(n,o,r,s),u=Po(n,typeof s=="string",e),d=s!==f.Fragment?{...u,...a,ref:i}:{},{children:h}=n,m=f.useMemo(()=>U(h)?h.get():h,[h]);return f.createElement(s,{...d,children:m})}}function ha(e,t){return function(n,{forwardMotionProps:i}={forwardMotionProps:!1}){const r={...ps(n)?ra:oa,preloadedFeatures:e,useRender:da(i),createVisualElement:t,Component:n};return Lo(r)}}function Hi(e,t){if(!Array.isArray(t))return!1;const s=t.length;if(s!==e.length)return!1;for(let n=0;n<s;n++)if(t[n]!==e[n])return!1;return!0}function xt(e,t,s){const n=e.getProps();return gs(n,t,s!==void 0?s:n.custom,e)}const ma=us(()=>window.ScrollTimeline!==void 0);class fa{constructor(t){this.stop=()=>this.runAll("stop"),this.animations=t.filter(Boolean)}get finished(){return Promise.all(this.animations.map(t=>"finished"in t?t.finished:t))}getAll(t){return this.animations[0][t]}setAll(t,s){for(let n=0;n<this.animations.length;n++)this.animations[n][t]=s}attachTimeline(t,s){const n=this.animations.map(i=>{if(ma()&&i.attachTimeline)return i.attachTimeline(t);if(typeof s=="function")return s(i)});return()=>{n.forEach((i,o)=>{i&&i(),this.animations[o].stop()})}}get time(){return this.getAll("time")}set time(t){this.setAll("time",t)}get speed(){return this.getAll("speed")}set speed(t){this.setAll("speed",t)}get startTime(){return this.getAll("startTime")}get duration(){let t=0;for(let s=0;s<this.animations.length;s++)t=Math.max(t,this.animations[s].duration);return t}runAll(t){this.animations.forEach(s=>s[t]())}flatten(){this.runAll("flatten")}play(){this.runAll("play")}pause(){this.runAll("pause")}cancel(){this.runAll("cancel")}complete(){this.runAll("complete")}}class pa extends fa{then(t,s){return Promise.all(this.animations).then(t).catch(s)}}function js(e,t){return e?e[t]||e.default||e:void 0}const Wt=2e4;function Yi(e){let t=0;const s=50;let n=e.next(t);for(;!n.done&&t<Wt;)t+=s,n=e.next(t);return t>=Wt?1/0:t}function Cs(e){return typeof e=="function"}function cn(e,t){e.timeline=t,e.onfinish=null}const Ps=e=>Array.isArray(e)&&typeof e[0]=="number",ga={linearEasing:void 0};function xa(e,t){const s=us(e);return()=>{var n;return(n=ga[t])!==null&&n!==void 0?n:s()}}const at=xa(()=>{try{document.createElement("div").animate({opacity:0},{easing:"linear(0, 1)"})}catch{return!1}return!0},"linearEasing"),Xi=(e,t,s=10)=>{let n="";const i=Math.max(Math.round(t/s),2);for(let o=0;o<i;o++)n+=e(Ce(0,i-1,o))+", ";return`linear(${n.substring(0,n.length-2)})`};function Zi(e){return!!(typeof e=="function"&&at()||!e||typeof e=="string"&&(e in Gt||at())||Ps(e)||Array.isArray(e)&&e.every(Zi))}const De=([e,t,s,n])=>`cubic-bezier(${e}, ${t}, ${s}, ${n})`,Gt={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:De([0,.65,.55,1]),circOut:De([.55,0,1,.45]),backIn:De([.31,.01,.66,-.59]),backOut:De([.33,1.53,.69,.99])};function Ji(e,t){if(e)return typeof e=="function"&&at()?Xi(e,t):Ps(e)?De(e):Array.isArray(e)?e.map(s=>Ji(s,t)||Gt.easeOut):Gt[e]}const X={x:!1,y:!1};function Qi(){return X.x||X.y}function ya(e,t,s){var n;if(e instanceof Element)return[e];if(typeof e=="string"){let i=document;const o=(n=void 0)!==null&&n!==void 0?n:i.querySelectorAll(e);return o?Array.from(o):[]}return Array.from(e)}function er(e,t){const s=ya(e),n=new AbortController,i={passive:!0,...t,signal:n.signal};return[s,i,()=>n.abort()]}function un(e){return t=>{t.pointerType==="touch"||Qi()||e(t)}}function va(e,t,s={}){const[n,i,o]=er(e,s),r=un(l=>{const{target:a}=l,u=t(l);if(typeof u!="function"||!a)return;const d=un(h=>{u(h),a.removeEventListener("pointerleave",d)});a.addEventListener("pointerleave",d,i)});return n.forEach(l=>{l.addEventListener("pointerenter",r,i)}),o}const tr=(e,t)=>t?e===t?!0:tr(e,t.parentElement):!1,ks=e=>e.pointerType==="mouse"?typeof e.button!="number"||e.button<=0:e.isPrimary!==!1,ba=new Set(["BUTTON","INPUT","SELECT","TEXTAREA","A"]);function wa(e){return ba.has(e.tagName)||e.tabIndex!==-1}const Ve=new WeakSet;function dn(e){return t=>{t.key==="Enter"&&e(t)}}function kt(e,t){e.dispatchEvent(new PointerEvent("pointer"+t,{isPrimary:!0,bubbles:!0}))}const Sa=(e,t)=>{const s=e.currentTarget;if(!s)return;const n=dn(()=>{if(Ve.has(s))return;kt(s,"down");const i=dn(()=>{kt(s,"up")}),o=()=>kt(s,"cancel");s.addEventListener("keyup",i,t),s.addEventListener("blur",o,t)});s.addEventListener("keydown",n,t),s.addEventListener("blur",()=>s.removeEventListener("keydown",n),t)};function hn(e){return ks(e)&&!Qi()}function Ta(e,t,s={}){const[n,i,o]=er(e,s),r=l=>{const a=l.currentTarget;if(!hn(l)||Ve.has(a))return;Ve.add(a);const u=t(l),d=(p,g)=>{window.removeEventListener("pointerup",h),window.removeEventListener("pointercancel",m),!(!hn(p)||!Ve.has(a))&&(Ve.delete(a),typeof u=="function"&&u(p,{success:g}))},h=p=>{d(p,s.useGlobalTarget||tr(a,p.target))},m=p=>{d(p,!1)};window.addEventListener("pointerup",h,i),window.addEventListener("pointercancel",m,i)};return n.forEach(l=>{!wa(l)&&l.getAttribute("tabindex")===null&&(l.tabIndex=0),(s.useGlobalTarget?window:l).addEventListener("pointerdown",r,i),l.addEventListener("focus",u=>Sa(u,i),i)}),o}function ja(e){return e==="x"||e==="y"?X[e]?null:(X[e]=!0,()=>{X[e]=!1}):X.x||X.y?null:(X.x=X.y=!0,()=>{X.x=X.y=!1})}const sr=new Set(["width","height","top","left","right","bottom",...Ne]);let st;function Ca(){st=void 0}const J={now:()=>(st===void 0&&J.set(O.isProcessing||bo.useManualTiming?O.timestamp:performance.now()),st),set:e=>{st=e,queueMicrotask(Ca)}};function Ns(e,t){e.indexOf(t)===-1&&e.push(t)}function As(e,t){const s=e.indexOf(t);s>-1&&e.splice(s,1)}class Es{constructor(){this.subscriptions=[]}add(t){return Ns(this.subscriptions,t),()=>As(this.subscriptions,t)}notify(t,s,n){const i=this.subscriptions.length;if(i)if(i===1)this.subscriptions[0](t,s,n);else for(let o=0;o<i;o++){const r=this.subscriptions[o];r&&r(t,s,n)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}function nr(e,t){return t?e*(1e3/t):0}const mn=30,Pa=e=>!isNaN(parseFloat(e));class ka{constructor(t,s={}){this.version="11.18.2",this.canTrackVelocity=null,this.events={},this.updateAndNotify=(n,i=!0)=>{const o=J.now();this.updatedAt!==o&&this.setPrevFrameValue(),this.prev=this.current,this.setCurrent(n),this.current!==this.prev&&this.events.change&&this.events.change.notify(this.current),i&&this.events.renderRequest&&this.events.renderRequest.notify(this.current)},this.hasAnimated=!1,this.setCurrent(t),this.owner=s.owner}setCurrent(t){this.current=t,this.updatedAt=J.now(),this.canTrackVelocity===null&&t!==void 0&&(this.canTrackVelocity=Pa(this.current))}setPrevFrameValue(t=this.current){this.prevFrameValue=t,this.prevUpdatedAt=this.updatedAt}onChange(t){return this.on("change",t)}on(t,s){this.events[t]||(this.events[t]=new Es);const n=this.events[t].add(s);return t==="change"?()=>{n(),M.read(()=>{this.events.change.getSize()||this.stop()})}:n}clearListeners(){for(const t in this.events)this.events[t].clear()}attach(t,s){this.passiveEffect=t,this.stopPassiveEffect=s}set(t,s=!0){!s||!this.passiveEffect?this.updateAndNotify(t,s):this.passiveEffect(t,this.updateAndNotify)}setWithVelocity(t,s,n){this.set(s),this.prev=void 0,this.prevFrameValue=t,this.prevUpdatedAt=this.updatedAt-n}jump(t,s=!0){this.updateAndNotify(t),this.prev=t,this.prevUpdatedAt=this.prevFrameValue=void 0,s&&this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}get(){return this.current}getPrevious(){return this.prev}getVelocity(){const t=J.now();if(!this.canTrackVelocity||this.prevFrameValue===void 0||t-this.updatedAt>mn)return 0;const s=Math.min(this.updatedAt-this.prevUpdatedAt,mn);return nr(parseFloat(this.current)-parseFloat(this.prevFrameValue),s)}start(t){return this.stop(),new Promise(s=>{this.hasAnimated=!0,this.animation=t(s),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function Ue(e,t){return new ka(e,t)}function Na(e,t,s){e.hasValue(t)?e.getValue(t).set(s):e.addValue(t,Ue(s))}function Aa(e,t){const s=xt(e,t);let{transitionEnd:n={},transition:i={},...o}=s||{};o={...o,...n};for(const r in o){const l=$o(o[r]);Na(e,r,l)}}function Ea(e){return!!(U(e)&&e.add)}function qt(e,t){const s=e.getValue("willChange");if(Ea(s))return s.add(t)}function ir(e){return e.props[Vi]}const rr=(e,t,s)=>(((1-3*s+3*t)*e+(3*s-6*t))*e+3*t)*e,Ma=1e-7,Ra=12;function Da(e,t,s,n,i){let o,r,l=0;do r=t+(s-t)/2,o=rr(r,n,i)-e,o>0?s=r:t=r;while(Math.abs(o)>Ma&&++l<Ra);return r}function qe(e,t,s,n){if(e===t&&s===n)return G;const i=o=>Da(o,0,1,e,s);return o=>o===0||o===1?o:rr(i(o),t,n)}const or=e=>t=>t<=.5?e(2*t)/2:(2-e(2*(1-t)))/2,ar=e=>t=>1-e(1-t),lr=qe(.33,1.53,.69,.99),Ms=ar(lr),cr=or(Ms),ur=e=>(e*=2)<1?.5*Ms(e):.5*(2-Math.pow(2,-10*(e-1))),Rs=e=>1-Math.sin(Math.acos(e)),dr=ar(Rs),hr=or(Rs),mr=e=>/^0[^.\s]+$/u.test(e);function Va(e){return typeof e=="number"?e===0:e!==null?e==="none"||e==="0"||mr(e):!0}const Ie=e=>Math.round(e*1e5)/1e5,Ds=/-?(?:\d+(?:\.\d+)?|\.\d+)/gu;function La(e){return e==null}const Ia=/^(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))$/iu,Vs=(e,t)=>s=>!!(typeof s=="string"&&Ia.test(s)&&s.startsWith(e)||t&&!La(s)&&Object.prototype.hasOwnProperty.call(s,t)),fr=(e,t,s)=>n=>{if(typeof n!="string")return n;const[i,o,r,l]=n.match(Ds);return{[e]:parseFloat(i),[t]:parseFloat(o),[s]:parseFloat(r),alpha:l!==void 0?parseFloat(l):1}},Fa=e=>te(0,255,e),Nt={...Ae,transform:e=>Math.round(Fa(e))},ge={test:Vs("rgb","red"),parse:fr("red","green","blue"),transform:({red:e,green:t,blue:s,alpha:n=1})=>"rgba("+Nt.transform(e)+", "+Nt.transform(t)+", "+Nt.transform(s)+", "+Ie($e.transform(n))+")"};function Ba(e){let t="",s="",n="",i="";return e.length>5?(t=e.substring(1,3),s=e.substring(3,5),n=e.substring(5,7),i=e.substring(7,9)):(t=e.substring(1,2),s=e.substring(2,3),n=e.substring(3,4),i=e.substring(4,5),t+=t,s+=s,n+=n,i+=i),{red:parseInt(t,16),green:parseInt(s,16),blue:parseInt(n,16),alpha:i?parseInt(i,16)/255:1}}const Kt={test:Vs("#"),parse:Ba,transform:ge.transform},be={test:Vs("hsl","hue"),parse:fr("hue","saturation","lightness"),transform:({hue:e,saturation:t,lightness:s,alpha:n=1})=>"hsla("+Math.round(e)+", "+Z.transform(Ie(t))+", "+Z.transform(Ie(s))+", "+Ie($e.transform(n))+")"},$={test:e=>ge.test(e)||Kt.test(e)||be.test(e),parse:e=>ge.test(e)?ge.parse(e):be.test(e)?be.parse(e):Kt.parse(e),transform:e=>typeof e=="string"?e:e.hasOwnProperty("red")?ge.transform(e):be.transform(e)},Oa=/(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))/giu;function _a(e){var t,s;return isNaN(e)&&typeof e=="string"&&(((t=e.match(Ds))===null||t===void 0?void 0:t.length)||0)+(((s=e.match(Oa))===null||s===void 0?void 0:s.length)||0)>0}const pr="number",gr="color",$a="var",Ua="var(",fn="${}",za=/var\s*\(\s*--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)|#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\)|-?(?:\d+(?:\.\d+)?|\.\d+)/giu;function ze(e){const t=e.toString(),s=[],n={color:[],number:[],var:[]},i=[];let o=0;const l=t.replace(za,a=>($.test(a)?(n.color.push(o),i.push(gr),s.push($.parse(a))):a.startsWith(Ua)?(n.var.push(o),i.push($a),s.push(a)):(n.number.push(o),i.push(pr),s.push(parseFloat(a))),++o,fn)).split(fn);return{values:s,split:l,indexes:n,types:i}}function xr(e){return ze(e).values}function yr(e){const{split:t,types:s}=ze(e),n=t.length;return i=>{let o="";for(let r=0;r<n;r++)if(o+=t[r],i[r]!==void 0){const l=s[r];l===pr?o+=Ie(i[r]):l===gr?o+=$.transform(i[r]):o+=i[r]}return o}}const Wa=e=>typeof e=="number"?0:e;function Ga(e){const t=xr(e);return yr(e)(t.map(Wa))}const re={test:_a,parse:xr,createTransformer:yr,getAnimatableNone:Ga},qa=new Set(["brightness","contrast","saturate","opacity"]);function Ka(e){const[t,s]=e.slice(0,-1).split("(");if(t==="drop-shadow")return e;const[n]=s.match(Ds)||[];if(!n)return e;const i=s.replace(n,"");let o=qa.has(t)?1:0;return n!==s&&(o*=100),t+"("+o+i+")"}const Ha=/\b([a-z-]*)\(.*?\)/gu,Ht={...re,getAnimatableNone:e=>{const t=e.match(Ha);return t?t.map(Ka).join(" "):e}},Ya={...ys,color:$,backgroundColor:$,outlineColor:$,fill:$,stroke:$,borderColor:$,borderTopColor:$,borderRightColor:$,borderBottomColor:$,borderLeftColor:$,filter:Ht,WebkitFilter:Ht},Ls=e=>Ya[e];function vr(e,t){let s=Ls(e);return s!==Ht&&(s=re),s.getAnimatableNone?s.getAnimatableNone(t):void 0}const Xa=new Set(["auto","none","0"]);function Za(e,t,s){let n=0,i;for(;n<e.length&&!i;){const o=e[n];typeof o=="string"&&!Xa.has(o)&&ze(o).values.length&&(i=e[n]),n++}if(i&&s)for(const o of t)e[o]=vr(s,i)}const pn=e=>e===Ae||e===N,gn=(e,t)=>parseFloat(e.split(", ")[t]),xn=(e,t)=>(s,{transform:n})=>{if(n==="none"||!n)return 0;const i=n.match(/^matrix3d\((.+)\)$/u);if(i)return gn(i[1],t);{const o=n.match(/^matrix\((.+)\)$/u);return o?gn(o[1],e):0}},Ja=new Set(["x","y","z"]),Qa=Ne.filter(e=>!Ja.has(e));function el(e){const t=[];return Qa.forEach(s=>{const n=e.getValue(s);n!==void 0&&(t.push([s,n.get()]),n.set(s.startsWith("scale")?1:0))}),t}const ke={width:({x:e},{paddingLeft:t="0",paddingRight:s="0"})=>e.max-e.min-parseFloat(t)-parseFloat(s),height:({y:e},{paddingTop:t="0",paddingBottom:s="0"})=>e.max-e.min-parseFloat(t)-parseFloat(s),top:(e,{top:t})=>parseFloat(t),left:(e,{left:t})=>parseFloat(t),bottom:({y:e},{top:t})=>parseFloat(t)+(e.max-e.min),right:({x:e},{left:t})=>parseFloat(t)+(e.max-e.min),x:xn(4,13),y:xn(5,14)};ke.translateX=ke.x;ke.translateY=ke.y;const xe=new Set;let Yt=!1,Xt=!1;function br(){if(Xt){const e=Array.from(xe).filter(n=>n.needsMeasurement),t=new Set(e.map(n=>n.element)),s=new Map;t.forEach(n=>{const i=el(n);i.length&&(s.set(n,i),n.render())}),e.forEach(n=>n.measureInitialState()),t.forEach(n=>{n.render();const i=s.get(n);i&&i.forEach(([o,r])=>{var l;(l=n.getValue(o))===null||l===void 0||l.set(r)})}),e.forEach(n=>n.measureEndState()),e.forEach(n=>{n.suspendedScrollY!==void 0&&window.scrollTo(0,n.suspendedScrollY)})}Xt=!1,Yt=!1,xe.forEach(e=>e.complete()),xe.clear()}function wr(){xe.forEach(e=>{e.readKeyframes(),e.needsMeasurement&&(Xt=!0)})}function tl(){wr(),br()}class Is{constructor(t,s,n,i,o,r=!1){this.isComplete=!1,this.isAsync=!1,this.needsMeasurement=!1,this.isScheduled=!1,this.unresolvedKeyframes=[...t],this.onComplete=s,this.name=n,this.motionValue=i,this.element=o,this.isAsync=r}scheduleResolve(){this.isScheduled=!0,this.isAsync?(xe.add(this),Yt||(Yt=!0,M.read(wr),M.resolveKeyframes(br))):(this.readKeyframes(),this.complete())}readKeyframes(){const{unresolvedKeyframes:t,name:s,element:n,motionValue:i}=this;for(let o=0;o<t.length;o++)if(t[o]===null)if(o===0){const r=i==null?void 0:i.get(),l=t[t.length-1];if(r!==void 0)t[0]=r;else if(n&&s){const a=n.readValue(s,l);a!=null&&(t[0]=a)}t[0]===void 0&&(t[0]=l),i&&r===void 0&&i.set(t[0])}else t[o]=t[o-1]}setFinalKeyframe(){}measureInitialState(){}renderEndStyles(){}measureEndState(){}complete(){this.isComplete=!0,this.onComplete(this.unresolvedKeyframes,this.finalKeyframe),xe.delete(this)}cancel(){this.isComplete||(this.isScheduled=!1,xe.delete(this))}resume(){this.isComplete||this.scheduleResolve()}}const Sr=e=>/^-?(?:\d+(?:\.\d+)?|\.\d+)$/u.test(e),sl=/^var\(--(?:([\w-]+)|([\w-]+), ?([a-zA-Z\d ()%#.,-]+))\)/u;function nl(e){const t=sl.exec(e);if(!t)return[,];const[,s,n,i]=t;return[`--${s??n}`,i]}function Tr(e,t,s=1){const[n,i]=nl(e);if(!n)return;const o=window.getComputedStyle(t).getPropertyValue(n);if(o){const r=o.trim();return Sr(r)?parseFloat(r):r}return xs(i)?Tr(i,t,s+1):i}const jr=e=>t=>t.test(e),il={test:e=>e==="auto",parse:e=>e},Cr=[Ae,N,Z,ne,Ko,qo,il],yn=e=>Cr.find(jr(e));class Pr extends Is{constructor(t,s,n,i,o){super(t,s,n,i,o,!0)}readKeyframes(){const{unresolvedKeyframes:t,element:s,name:n}=this;if(!s||!s.current)return;super.readKeyframes();for(let a=0;a<t.length;a++){let u=t[a];if(typeof u=="string"&&(u=u.trim(),xs(u))){const d=Tr(u,s.current);d!==void 0&&(t[a]=d),a===t.length-1&&(this.finalKeyframe=u)}}if(this.resolveNoneKeyframes(),!sr.has(n)||t.length!==2)return;const[i,o]=t,r=yn(i),l=yn(o);if(r!==l)if(pn(r)&&pn(l))for(let a=0;a<t.length;a++){const u=t[a];typeof u=="string"&&(t[a]=parseFloat(u))}else this.needsMeasurement=!0}resolveNoneKeyframes(){const{unresolvedKeyframes:t,name:s}=this,n=[];for(let i=0;i<t.length;i++)Va(t[i])&&n.push(i);n.length&&Za(t,n,s)}measureInitialState(){const{element:t,unresolvedKeyframes:s,name:n}=this;if(!t||!t.current)return;n==="height"&&(this.suspendedScrollY=window.pageYOffset),this.measuredOrigin=ke[n](t.measureViewportBox(),window.getComputedStyle(t.current)),s[0]=this.measuredOrigin;const i=s[s.length-1];i!==void 0&&t.getValue(n,i).jump(i,!1)}measureEndState(){var t;const{element:s,name:n,unresolvedKeyframes:i}=this;if(!s||!s.current)return;const o=s.getValue(n);o&&o.jump(this.measuredOrigin,!1);const r=i.length-1,l=i[r];i[r]=ke[n](s.measureViewportBox(),window.getComputedStyle(s.current)),l!==null&&this.finalKeyframe===void 0&&(this.finalKeyframe=l),!((t=this.removedTransforms)===null||t===void 0)&&t.length&&this.removedTransforms.forEach(([a,u])=>{s.getValue(a).set(u)}),this.resolveNoneKeyframes()}}const vn=(e,t)=>t==="zIndex"?!1:!!(typeof e=="number"||Array.isArray(e)||typeof e=="string"&&(re.test(e)||e==="0")&&!e.startsWith("url("));function rl(e){const t=e[0];if(e.length===1)return!0;for(let s=0;s<e.length;s++)if(e[s]!==t)return!0}function ol(e,t,s,n){const i=e[0];if(i===null)return!1;if(t==="display"||t==="visibility")return!0;const o=e[e.length-1],r=vn(i,t),l=vn(o,t);return!r||!l?!1:rl(e)||(s==="spring"||Cs(s))&&n}const al=e=>e!==null;function yt(e,{repeat:t,repeatType:s="loop"},n){const i=e.filter(al),o=t&&s!=="loop"&&t%2===1?0:i.length-1;return!o||n===void 0?i[o]:n}const ll=40;class kr{constructor({autoplay:t=!0,delay:s=0,type:n="keyframes",repeat:i=0,repeatDelay:o=0,repeatType:r="loop",...l}){this.isStopped=!1,this.hasAttemptedResolve=!1,this.createdAt=J.now(),this.options={autoplay:t,delay:s,type:n,repeat:i,repeatDelay:o,repeatType:r,...l},this.updateFinishedPromise()}calcStartTime(){return this.resolvedAt?this.resolvedAt-this.createdAt>ll?this.resolvedAt:this.createdAt:this.createdAt}get resolved(){return!this._resolved&&!this.hasAttemptedResolve&&tl(),this._resolved}onKeyframesResolved(t,s){this.resolvedAt=J.now(),this.hasAttemptedResolve=!0;const{name:n,type:i,velocity:o,delay:r,onComplete:l,onUpdate:a,isGenerator:u}=this.options;if(!u&&!ol(t,n,i,o))if(r)this.options.duration=0;else{a&&a(yt(t,this.options,s)),l&&l(),this.resolveFinishedPromise();return}const d=this.initPlayback(t,s);d!==!1&&(this._resolved={keyframes:t,finalKeyframe:s,...d},this.onPostResolved())}onPostResolved(){}then(t,s){return this.currentFinishedPromise.then(t,s)}flatten(){this.options.type="keyframes",this.options.ease="linear"}updateFinishedPromise(){this.currentFinishedPromise=new Promise(t=>{this.resolveFinishedPromise=t})}}const D=(e,t,s)=>e+(t-e)*s;function At(e,t,s){return s<0&&(s+=1),s>1&&(s-=1),s<1/6?e+(t-e)*6*s:s<1/2?t:s<2/3?e+(t-e)*(2/3-s)*6:e}function cl({hue:e,saturation:t,lightness:s,alpha:n}){e/=360,t/=100,s/=100;let i=0,o=0,r=0;if(!t)i=o=r=s;else{const l=s<.5?s*(1+t):s+t-s*t,a=2*s-l;i=At(a,l,e+1/3),o=At(a,l,e),r=At(a,l,e-1/3)}return{red:Math.round(i*255),green:Math.round(o*255),blue:Math.round(r*255),alpha:n}}function lt(e,t){return s=>s>0?t:e}const Et=(e,t,s)=>{const n=e*e,i=s*(t*t-n)+n;return i<0?0:Math.sqrt(i)},ul=[Kt,ge,be],dl=e=>ul.find(t=>t.test(e));function bn(e){const t=dl(e);if(!t)return!1;let s=t.parse(e);return t===be&&(s=cl(s)),s}const wn=(e,t)=>{const s=bn(e),n=bn(t);if(!s||!n)return lt(e,t);const i={...s};return o=>(i.red=Et(s.red,n.red,o),i.green=Et(s.green,n.green,o),i.blue=Et(s.blue,n.blue,o),i.alpha=D(s.alpha,n.alpha,o),ge.transform(i))},hl=(e,t)=>s=>t(e(s)),Ke=(...e)=>e.reduce(hl),Zt=new Set(["none","hidden"]);function ml(e,t){return Zt.has(e)?s=>s<=0?e:t:s=>s>=1?t:e}function fl(e,t){return s=>D(e,t,s)}function Fs(e){return typeof e=="number"?fl:typeof e=="string"?xs(e)?lt:$.test(e)?wn:xl:Array.isArray(e)?Nr:typeof e=="object"?$.test(e)?wn:pl:lt}function Nr(e,t){const s=[...e],n=s.length,i=e.map((o,r)=>Fs(o)(o,t[r]));return o=>{for(let r=0;r<n;r++)s[r]=i[r](o);return s}}function pl(e,t){const s={...e,...t},n={};for(const i in s)e[i]!==void 0&&t[i]!==void 0&&(n[i]=Fs(e[i])(e[i],t[i]));return i=>{for(const o in n)s[o]=n[o](i);return s}}function gl(e,t){var s;const n=[],i={color:0,var:0,number:0};for(let o=0;o<t.values.length;o++){const r=t.types[o],l=e.indexes[r][i[r]],a=(s=e.values[l])!==null&&s!==void 0?s:0;n[o]=a,i[r]++}return n}const xl=(e,t)=>{const s=re.createTransformer(t),n=ze(e),i=ze(t);return n.indexes.var.length===i.indexes.var.length&&n.indexes.color.length===i.indexes.color.length&&n.indexes.number.length>=i.indexes.number.length?Zt.has(e)&&!i.values.length||Zt.has(t)&&!n.values.length?ml(e,t):Ke(Nr(gl(n,i),i.values),s):lt(e,t)};function Ar(e,t,s){return typeof e=="number"&&typeof t=="number"&&typeof s=="number"?D(e,t,s):Fs(e)(e,t)}const yl=5;function Er(e,t,s){const n=Math.max(t-yl,0);return nr(s-e(n),t-n)}const V={stiffness:100,damping:10,mass:1,velocity:0,duration:800,bounce:.3,visualDuration:.3,restSpeed:{granular:.01,default:2},restDelta:{granular:.005,default:.5},minDuration:.01,maxDuration:10,minDamping:.05,maxDamping:1},Mt=.001;function vl({duration:e=V.duration,bounce:t=V.bounce,velocity:s=V.velocity,mass:n=V.mass}){let i,o,r=1-t;r=te(V.minDamping,V.maxDamping,r),e=te(V.minDuration,V.maxDuration,ee(e)),r<1?(i=u=>{const d=u*r,h=d*e,m=d-s,p=Jt(u,r),g=Math.exp(-h);return Mt-m/p*g},o=u=>{const h=u*r*e,m=h*s+s,p=Math.pow(r,2)*Math.pow(u,2)*e,g=Math.exp(-h),x=Jt(Math.pow(u,2),r);return(-i(u)+Mt>0?-1:1)*((m-p)*g)/x}):(i=u=>{const d=Math.exp(-u*e),h=(u-s)*e+1;return-Mt+d*h},o=u=>{const d=Math.exp(-u*e),h=(s-u)*(e*e);return d*h});const l=5/e,a=wl(i,o,l);if(e=Q(e),isNaN(a))return{stiffness:V.stiffness,damping:V.damping,duration:e};{const u=Math.pow(a,2)*n;return{stiffness:u,damping:r*2*Math.sqrt(n*u),duration:e}}}const bl=12;function wl(e,t,s){let n=s;for(let i=1;i<bl;i++)n=n-e(n)/t(n);return n}function Jt(e,t){return e*Math.sqrt(1-t*t)}const Sl=["duration","bounce"],Tl=["stiffness","damping","mass"];function Sn(e,t){return t.some(s=>e[s]!==void 0)}function jl(e){let t={velocity:V.velocity,stiffness:V.stiffness,damping:V.damping,mass:V.mass,isResolvedFromDuration:!1,...e};if(!Sn(e,Tl)&&Sn(e,Sl))if(e.visualDuration){const s=e.visualDuration,n=2*Math.PI/(s*1.2),i=n*n,o=2*te(.05,1,1-(e.bounce||0))*Math.sqrt(i);t={...t,mass:V.mass,stiffness:i,damping:o}}else{const s=vl(e);t={...t,...s,mass:V.mass},t.isResolvedFromDuration=!0}return t}function Mr(e=V.visualDuration,t=V.bounce){const s=typeof e!="object"?{visualDuration:e,keyframes:[0,1],bounce:t}:e;let{restSpeed:n,restDelta:i}=s;const o=s.keyframes[0],r=s.keyframes[s.keyframes.length-1],l={done:!1,value:o},{stiffness:a,damping:u,mass:d,duration:h,velocity:m,isResolvedFromDuration:p}=jl({...s,velocity:-ee(s.velocity||0)}),g=m||0,x=u/(2*Math.sqrt(a*d)),v=r-o,b=ee(Math.sqrt(a/d)),y=Math.abs(v)<5;n||(n=y?V.restSpeed.granular:V.restSpeed.default),i||(i=y?V.restDelta.granular:V.restDelta.default);let S;if(x<1){const w=Jt(b,x);S=k=>{const P=Math.exp(-x*b*k);return r-P*((g+x*b*v)/w*Math.sin(w*k)+v*Math.cos(w*k))}}else if(x===1)S=w=>r-Math.exp(-b*w)*(v+(g+b*v)*w);else{const w=b*Math.sqrt(x*x-1);S=k=>{const P=Math.exp(-x*b*k),T=Math.min(w*k,300);return r-P*((g+x*b*v)*Math.sinh(T)+w*v*Math.cosh(T))/w}}const C={calculatedDuration:p&&h||null,next:w=>{const k=S(w);if(p)l.done=w>=h;else{let P=0;x<1&&(P=w===0?Q(g):Er(S,w,k));const T=Math.abs(P)<=n,E=Math.abs(r-k)<=i;l.done=T&&E}return l.value=l.done?r:k,l},toString:()=>{const w=Math.min(Yi(C),Wt),k=Xi(P=>C.next(w*P).value,w,30);return w+"ms "+k}};return C}function Tn({keyframes:e,velocity:t=0,power:s=.8,timeConstant:n=325,bounceDamping:i=10,bounceStiffness:o=500,modifyTarget:r,min:l,max:a,restDelta:u=.5,restSpeed:d}){const h=e[0],m={done:!1,value:h},p=T=>l!==void 0&&T<l||a!==void 0&&T>a,g=T=>l===void 0?a:a===void 0||Math.abs(l-T)<Math.abs(a-T)?l:a;let x=s*t;const v=h+x,b=r===void 0?v:r(v);b!==v&&(x=b-h);const y=T=>-x*Math.exp(-T/n),S=T=>b+y(T),C=T=>{const E=y(T),L=S(T);m.done=Math.abs(E)<=u,m.value=m.done?b:L};let w,k;const P=T=>{p(m.value)&&(w=T,k=Mr({keyframes:[m.value,g(m.value)],velocity:Er(S,T,m.value),damping:i,stiffness:o,restDelta:u,restSpeed:d}))};return P(0),{calculatedDuration:null,next:T=>{let E=!1;return!k&&w===void 0&&(E=!0,C(T),P(T)),w!==void 0&&T>=w?k.next(T-w):(!E&&C(T),m)}}}const Cl=qe(.42,0,1,1),Pl=qe(0,0,.58,1),Rr=qe(.42,0,.58,1),kl=e=>Array.isArray(e)&&typeof e[0]!="number",Nl={linear:G,easeIn:Cl,easeInOut:Rr,easeOut:Pl,circIn:Rs,circInOut:hr,circOut:dr,backIn:Ms,backInOut:cr,backOut:lr,anticipate:ur},jn=e=>{if(Ps(e)){Ai(e.length===4);const[t,s,n,i]=e;return qe(t,s,n,i)}else if(typeof e=="string")return Nl[e];return e};function Al(e,t,s){const n=[],i=s||Ar,o=e.length-1;for(let r=0;r<o;r++){let l=i(e[r],e[r+1]);if(t){const a=Array.isArray(t)?t[r]||G:t;l=Ke(a,l)}n.push(l)}return n}function El(e,t,{clamp:s=!0,ease:n,mixer:i}={}){const o=e.length;if(Ai(o===t.length),o===1)return()=>t[0];if(o===2&&t[0]===t[1])return()=>t[1];const r=e[0]===e[1];e[0]>e[o-1]&&(e=[...e].reverse(),t=[...t].reverse());const l=Al(t,n,i),a=l.length,u=d=>{if(r&&d<e[0])return t[0];let h=0;if(a>1)for(;h<e.length-2&&!(d<e[h+1]);h++);const m=Ce(e[h],e[h+1],d);return l[h](m)};return s?d=>u(te(e[0],e[o-1],d)):u}function Ml(e,t){const s=e[e.length-1];for(let n=1;n<=t;n++){const i=Ce(0,t,n);e.push(D(s,1,i))}}function Rl(e){const t=[0];return Ml(t,e.length-1),t}function Dl(e,t){return e.map(s=>s*t)}function Vl(e,t){return e.map(()=>t||Rr).splice(0,e.length-1)}function ct({duration:e=300,keyframes:t,times:s,ease:n="easeInOut"}){const i=kl(n)?n.map(jn):jn(n),o={done:!1,value:t[0]},r=Dl(s&&s.length===t.length?s:Rl(t),e),l=El(r,t,{ease:Array.isArray(i)?i:Vl(t,i)});return{calculatedDuration:e,next:a=>(o.value=l(a),o.done=a>=e,o)}}const Ll=e=>{const t=({timestamp:s})=>e(s);return{start:()=>M.update(t,!0),stop:()=>ie(t),now:()=>O.isProcessing?O.timestamp:J.now()}},Il={decay:Tn,inertia:Tn,tween:ct,keyframes:ct,spring:Mr},Fl=e=>e/100;class Bs extends kr{constructor(t){super(t),this.holdTime=null,this.cancelTime=null,this.currentTime=0,this.playbackSpeed=1,this.pendingPlayState="running",this.startTime=null,this.state="idle",this.stop=()=>{if(this.resolver.cancel(),this.isStopped=!0,this.state==="idle")return;this.teardown();const{onStop:a}=this.options;a&&a()};const{name:s,motionValue:n,element:i,keyframes:o}=this.options,r=(i==null?void 0:i.KeyframeResolver)||Is,l=(a,u)=>this.onKeyframesResolved(a,u);this.resolver=new r(o,l,s,n,i),this.resolver.scheduleResolve()}flatten(){super.flatten(),this._resolved&&Object.assign(this._resolved,this.initPlayback(this._resolved.keyframes))}initPlayback(t){const{type:s="keyframes",repeat:n=0,repeatDelay:i=0,repeatType:o,velocity:r=0}=this.options,l=Cs(s)?s:Il[s]||ct;let a,u;l!==ct&&typeof t[0]!="number"&&(a=Ke(Fl,Ar(t[0],t[1])),t=[0,100]);const d=l({...this.options,keyframes:t});o==="mirror"&&(u=l({...this.options,keyframes:[...t].reverse(),velocity:-r})),d.calculatedDuration===null&&(d.calculatedDuration=Yi(d));const{calculatedDuration:h}=d,m=h+i,p=m*(n+1)-i;return{generator:d,mirroredGenerator:u,mapPercentToKeyframes:a,calculatedDuration:h,resolvedDuration:m,totalDuration:p}}onPostResolved(){const{autoplay:t=!0}=this.options;this.play(),this.pendingPlayState==="paused"||!t?this.pause():this.state=this.pendingPlayState}tick(t,s=!1){const{resolved:n}=this;if(!n){const{keyframes:T}=this.options;return{done:!0,value:T[T.length-1]}}const{finalKeyframe:i,generator:o,mirroredGenerator:r,mapPercentToKeyframes:l,keyframes:a,calculatedDuration:u,totalDuration:d,resolvedDuration:h}=n;if(this.startTime===null)return o.next(0);const{delay:m,repeat:p,repeatType:g,repeatDelay:x,onUpdate:v}=this.options;this.speed>0?this.startTime=Math.min(this.startTime,t):this.speed<0&&(this.startTime=Math.min(t-d/this.speed,this.startTime)),s?this.currentTime=t:this.holdTime!==null?this.currentTime=this.holdTime:this.currentTime=Math.round(t-this.startTime)*this.speed;const b=this.currentTime-m*(this.speed>=0?1:-1),y=this.speed>=0?b<0:b>d;this.currentTime=Math.max(b,0),this.state==="finished"&&this.holdTime===null&&(this.currentTime=d);let S=this.currentTime,C=o;if(p){const T=Math.min(this.currentTime,d)/h;let E=Math.floor(T),L=T%1;!L&&T>=1&&(L=1),L===1&&E--,E=Math.min(E,p+1),!!(E%2)&&(g==="reverse"?(L=1-L,x&&(L-=x/h)):g==="mirror"&&(C=r)),S=te(0,1,L)*h}const w=y?{done:!1,value:a[0]}:C.next(S);l&&(w.value=l(w.value));let{done:k}=w;!y&&u!==null&&(k=this.speed>=0?this.currentTime>=d:this.currentTime<=0);const P=this.holdTime===null&&(this.state==="finished"||this.state==="running"&&k);return P&&i!==void 0&&(w.value=yt(a,this.options,i)),v&&v(w.value),P&&this.finish(),w}get duration(){const{resolved:t}=this;return t?ee(t.calculatedDuration):0}get time(){return ee(this.currentTime)}set time(t){t=Q(t),this.currentTime=t,this.holdTime!==null||this.speed===0?this.holdTime=t:this.driver&&(this.startTime=this.driver.now()-t/this.speed)}get speed(){return this.playbackSpeed}set speed(t){const s=this.playbackSpeed!==t;this.playbackSpeed=t,s&&(this.time=ee(this.currentTime))}play(){if(this.resolver.isScheduled||this.resolver.resume(),!this._resolved){this.pendingPlayState="running";return}if(this.isStopped)return;const{driver:t=Ll,onPlay:s,startTime:n}=this.options;this.driver||(this.driver=t(o=>this.tick(o))),s&&s();const i=this.driver.now();this.holdTime!==null?this.startTime=i-this.holdTime:this.startTime?this.state==="finished"&&(this.startTime=i):this.startTime=n??this.calcStartTime(),this.state==="finished"&&this.updateFinishedPromise(),this.cancelTime=this.startTime,this.holdTime=null,this.state="running",this.driver.start()}pause(){var t;if(!this._resolved){this.pendingPlayState="paused";return}this.state="paused",this.holdTime=(t=this.currentTime)!==null&&t!==void 0?t:0}complete(){this.state!=="running"&&this.play(),this.pendingPlayState=this.state="finished",this.holdTime=null}finish(){this.teardown(),this.state="finished";const{onComplete:t}=this.options;t&&t()}cancel(){this.cancelTime!==null&&this.tick(this.cancelTime),this.teardown(),this.updateFinishedPromise()}teardown(){this.state="idle",this.stopDriver(),this.resolveFinishedPromise(),this.updateFinishedPromise(),this.startTime=this.cancelTime=null,this.resolver.cancel()}stopDriver(){this.driver&&(this.driver.stop(),this.driver=void 0)}sample(t){return this.startTime=0,this.tick(t,!0)}}const Bl=new Set(["opacity","clipPath","filter","transform"]);function Ol(e,t,s,{delay:n=0,duration:i=300,repeat:o=0,repeatType:r="loop",ease:l="easeInOut",times:a}={}){const u={[t]:s};a&&(u.offset=a);const d=Ji(l,i);return Array.isArray(d)&&(u.easing=d),e.animate(u,{delay:n,duration:i,easing:Array.isArray(d)?"linear":d,fill:"both",iterations:o+1,direction:r==="reverse"?"alternate":"normal"})}const _l=us(()=>Object.hasOwnProperty.call(Element.prototype,"animate")),ut=10,$l=2e4;function Ul(e){return Cs(e.type)||e.type==="spring"||!Zi(e.ease)}function zl(e,t){const s=new Bs({...t,keyframes:e,repeat:0,delay:0,isGenerator:!0});let n={done:!1,value:e[0]};const i=[];let o=0;for(;!n.done&&o<$l;)n=s.sample(o),i.push(n.value),o+=ut;return{times:void 0,keyframes:i,duration:o-ut,ease:"linear"}}const Dr={anticipate:ur,backInOut:cr,circInOut:hr};function Wl(e){return e in Dr}class Cn extends kr{constructor(t){super(t);const{name:s,motionValue:n,element:i,keyframes:o}=this.options;this.resolver=new Pr(o,(r,l)=>this.onKeyframesResolved(r,l),s,n,i),this.resolver.scheduleResolve()}initPlayback(t,s){let{duration:n=300,times:i,ease:o,type:r,motionValue:l,name:a,startTime:u}=this.options;if(!l.owner||!l.owner.current)return!1;if(typeof o=="string"&&at()&&Wl(o)&&(o=Dr[o]),Ul(this.options)){const{onComplete:h,onUpdate:m,motionValue:p,element:g,...x}=this.options,v=zl(t,x);t=v.keyframes,t.length===1&&(t[1]=t[0]),n=v.duration,i=v.times,o=v.ease,r="keyframes"}const d=Ol(l.owner.current,a,t,{...this.options,duration:n,times:i,ease:o});return d.startTime=u??this.calcStartTime(),this.pendingTimeline?(cn(d,this.pendingTimeline),this.pendingTimeline=void 0):d.onfinish=()=>{const{onComplete:h}=this.options;l.set(yt(t,this.options,s)),h&&h(),this.cancel(),this.resolveFinishedPromise()},{animation:d,duration:n,times:i,type:r,ease:o,keyframes:t}}get duration(){const{resolved:t}=this;if(!t)return 0;const{duration:s}=t;return ee(s)}get time(){const{resolved:t}=this;if(!t)return 0;const{animation:s}=t;return ee(s.currentTime||0)}set time(t){const{resolved:s}=this;if(!s)return;const{animation:n}=s;n.currentTime=Q(t)}get speed(){const{resolved:t}=this;if(!t)return 1;const{animation:s}=t;return s.playbackRate}set speed(t){const{resolved:s}=this;if(!s)return;const{animation:n}=s;n.playbackRate=t}get state(){const{resolved:t}=this;if(!t)return"idle";const{animation:s}=t;return s.playState}get startTime(){const{resolved:t}=this;if(!t)return null;const{animation:s}=t;return s.startTime}attachTimeline(t){if(!this._resolved)this.pendingTimeline=t;else{const{resolved:s}=this;if(!s)return G;const{animation:n}=s;cn(n,t)}return G}play(){if(this.isStopped)return;const{resolved:t}=this;if(!t)return;const{animation:s}=t;s.playState==="finished"&&this.updateFinishedPromise(),s.play()}pause(){const{resolved:t}=this;if(!t)return;const{animation:s}=t;s.pause()}stop(){if(this.resolver.cancel(),this.isStopped=!0,this.state==="idle")return;this.resolveFinishedPromise(),this.updateFinishedPromise();const{resolved:t}=this;if(!t)return;const{animation:s,keyframes:n,duration:i,type:o,ease:r,times:l}=t;if(s.playState==="idle"||s.playState==="finished")return;if(this.time){const{motionValue:u,onUpdate:d,onComplete:h,element:m,...p}=this.options,g=new Bs({...p,keyframes:n,duration:i,type:o,ease:r,times:l,isGenerator:!0}),x=Q(this.time);u.setWithVelocity(g.sample(x-ut).value,g.sample(x).value,ut)}const{onStop:a}=this.options;a&&a(),this.cancel()}complete(){const{resolved:t}=this;t&&t.animation.finish()}cancel(){const{resolved:t}=this;t&&t.animation.cancel()}static supports(t){const{motionValue:s,name:n,repeatDelay:i,repeatType:o,damping:r,type:l}=t;if(!s||!s.owner||!(s.owner.current instanceof HTMLElement))return!1;const{onUpdate:a,transformTemplate:u}=s.owner.getProps();return _l()&&n&&Bl.has(n)&&!a&&!u&&!i&&o!=="mirror"&&r!==0&&l!=="inertia"}}const Gl={type:"spring",stiffness:500,damping:25,restSpeed:10},ql=e=>({type:"spring",stiffness:550,damping:e===0?2*Math.sqrt(550):30,restSpeed:10}),Kl={type:"keyframes",duration:.8},Hl={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},Yl=(e,{keyframes:t})=>t.length>2?Kl:ye.has(e)?e.startsWith("scale")?ql(t[1]):Gl:Hl;function Xl({when:e,delay:t,delayChildren:s,staggerChildren:n,staggerDirection:i,repeat:o,repeatType:r,repeatDelay:l,from:a,elapsed:u,...d}){return!!Object.keys(d).length}const Os=(e,t,s,n={},i,o)=>r=>{const l=js(n,e)||{},a=l.delay||n.delay||0;let{elapsed:u=0}=n;u=u-Q(a);let d={keyframes:Array.isArray(s)?s:[null,s],ease:"easeOut",velocity:t.getVelocity(),...l,delay:-u,onUpdate:m=>{t.set(m),l.onUpdate&&l.onUpdate(m)},onComplete:()=>{r(),l.onComplete&&l.onComplete()},name:e,motionValue:t,element:o?void 0:i};Xl(l)||(d={...d,...Yl(e,d)}),d.duration&&(d.duration=Q(d.duration)),d.repeatDelay&&(d.repeatDelay=Q(d.repeatDelay)),d.from!==void 0&&(d.keyframes[0]=d.from);let h=!1;if((d.type===!1||d.duration===0&&!d.repeatDelay)&&(d.duration=0,d.delay===0&&(h=!0)),h&&!o&&t.get()!==void 0){const m=yt(d.keyframes,l);if(m!==void 0)return M.update(()=>{d.onUpdate(m),d.onComplete()}),new pa([])}return!o&&Cn.supports(d)?new Cn(d):new Bs(d)};function Zl({protectedKeys:e,needsAnimating:t},s){const n=e.hasOwnProperty(s)&&t[s]!==!0;return t[s]=!1,n}function Vr(e,t,{delay:s=0,transitionOverride:n,type:i}={}){var o;let{transition:r=e.getDefaultTransition(),transitionEnd:l,...a}=t;n&&(r=n);const u=[],d=i&&e.animationState&&e.animationState.getState()[i];for(const h in a){const m=e.getValue(h,(o=e.latestValues[h])!==null&&o!==void 0?o:null),p=a[h];if(p===void 0||d&&Zl(d,h))continue;const g={delay:s,...js(r||{},h)};let x=!1;if(window.MotionHandoffAnimation){const b=ir(e);if(b){const y=window.MotionHandoffAnimation(b,h,M);y!==null&&(g.startTime=y,x=!0)}}qt(e,h),m.start(Os(h,m,p,e.shouldReduceMotion&&sr.has(h)?{type:!1}:g,e,x));const v=m.animation;v&&u.push(v)}return l&&Promise.all(u).then(()=>{M.update(()=>{l&&Aa(e,l)})}),u}function Qt(e,t,s={}){var n;const i=xt(e,t,s.type==="exit"?(n=e.presenceContext)===null||n===void 0?void 0:n.custom:void 0);let{transition:o=e.getDefaultTransition()||{}}=i||{};s.transitionOverride&&(o=s.transitionOverride);const r=i?()=>Promise.all(Vr(e,i,s)):()=>Promise.resolve(),l=e.variantChildren&&e.variantChildren.size?(u=0)=>{const{delayChildren:d=0,staggerChildren:h,staggerDirection:m}=o;return Jl(e,t,d+u,h,m,s)}:()=>Promise.resolve(),{when:a}=o;if(a){const[u,d]=a==="beforeChildren"?[r,l]:[l,r];return u().then(()=>d())}else return Promise.all([r(),l(s.delay)])}function Jl(e,t,s=0,n=0,i=1,o){const r=[],l=(e.variantChildren.size-1)*n,a=i===1?(u=0)=>u*n:(u=0)=>l-u*n;return Array.from(e.variantChildren).sort(Ql).forEach((u,d)=>{u.notify("AnimationStart",t),r.push(Qt(u,t,{...o,delay:s+a(d)}).then(()=>u.notify("AnimationComplete",t)))}),Promise.all(r)}function Ql(e,t){return e.sortNodePosition(t)}function ec(e,t,s={}){e.notify("AnimationStart",t);let n;if(Array.isArray(t)){const i=t.map(o=>Qt(e,o,s));n=Promise.all(i)}else if(typeof t=="string")n=Qt(e,t,s);else{const i=typeof t=="function"?xt(e,t,s.custom):t;n=Promise.all(Vr(e,i,s))}return n.then(()=>{e.notify("AnimationComplete",t)})}const tc=hs.length;function Lr(e){if(!e)return;if(!e.isControllingVariants){const s=e.parent?Lr(e.parent)||{}:{};return e.props.initial!==void 0&&(s.initial=e.props.initial),s}const t={};for(let s=0;s<tc;s++){const n=hs[s],i=e.props[n];(_e(i)||i===!1)&&(t[n]=i)}return t}const sc=[...ds].reverse(),nc=ds.length;function ic(e){return t=>Promise.all(t.map(({animation:s,options:n})=>ec(e,s,n)))}function rc(e){let t=ic(e),s=Pn(),n=!0;const i=a=>(u,d)=>{var h;const m=xt(e,d,a==="exit"?(h=e.presenceContext)===null||h===void 0?void 0:h.custom:void 0);if(m){const{transition:p,transitionEnd:g,...x}=m;u={...u,...x,...g}}return u};function o(a){t=a(e)}function r(a){const{props:u}=e,d=Lr(e.parent)||{},h=[],m=new Set;let p={},g=1/0;for(let v=0;v<nc;v++){const b=sc[v],y=s[b],S=u[b]!==void 0?u[b]:d[b],C=_e(S),w=b===a?y.isActive:null;w===!1&&(g=v);let k=S===d[b]&&S!==u[b]&&C;if(k&&n&&e.manuallyAnimateOnMount&&(k=!1),y.protectedKeys={...p},!y.isActive&&w===null||!S&&!y.prevProp||pt(S)||typeof S=="boolean")continue;const P=oc(y.prevProp,S);let T=P||b===a&&y.isActive&&!k&&C||v>g&&C,E=!1;const L=Array.isArray(S)?S:[S];let _=L.reduce(i(b),{});w===!1&&(_={});const{prevResolvedValues:le={}}=y,ce={...le,..._},K=F=>{T=!0,m.has(F)&&(E=!0,m.delete(F)),y.needsAnimating[F]=!0;const z=e.getValue(F);z&&(z.liveStyle=!1)};for(const F in ce){const z=_[F],ue=le[F];if(p.hasOwnProperty(F))continue;let de=!1;zt(z)&&zt(ue)?de=!Hi(z,ue):de=z!==ue,de?z!=null?K(F):m.add(F):z!==void 0&&m.has(F)?K(F):y.protectedKeys[F]=!0}y.prevProp=S,y.prevResolvedValues=_,y.isActive&&(p={...p,..._}),n&&e.blockInitialAnimation&&(T=!1),T&&(!(k&&P)||E)&&h.push(...L.map(F=>({animation:F,options:{type:b}})))}if(m.size){const v={};m.forEach(b=>{const y=e.getBaseTarget(b),S=e.getValue(b);S&&(S.liveStyle=!0),v[b]=y??null}),h.push({animation:v})}let x=!!h.length;return n&&(u.initial===!1||u.initial===u.animate)&&!e.manuallyAnimateOnMount&&(x=!1),n=!1,x?t(h):Promise.resolve()}function l(a,u){var d;if(s[a].isActive===u)return Promise.resolve();(d=e.variantChildren)===null||d===void 0||d.forEach(m=>{var p;return(p=m.animationState)===null||p===void 0?void 0:p.setActive(a,u)}),s[a].isActive=u;const h=r(a);for(const m in s)s[m].protectedKeys={};return h}return{animateChanges:r,setActive:l,setAnimateFunction:o,getState:()=>s,reset:()=>{s=Pn(),n=!0}}}function oc(e,t){return typeof t=="string"?t!==e:Array.isArray(t)?!Hi(t,e):!1}function he(e=!1){return{isActive:e,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function Pn(){return{animate:he(!0),whileInView:he(),whileHover:he(),whileTap:he(),whileDrag:he(),whileFocus:he(),exit:he()}}class ae{constructor(t){this.isMounted=!1,this.node=t}update(){}}class ac extends ae{constructor(t){super(t),t.animationState||(t.animationState=rc(t))}updateAnimationControlsSubscription(){const{animate:t}=this.node.getProps();pt(t)&&(this.unmountControls=t.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:t}=this.node.getProps(),{animate:s}=this.node.prevProps||{};t!==s&&this.updateAnimationControlsSubscription()}unmount(){var t;this.node.animationState.reset(),(t=this.unmountControls)===null||t===void 0||t.call(this)}}let lc=0;class cc extends ae{constructor(){super(...arguments),this.id=lc++}update(){if(!this.node.presenceContext)return;const{isPresent:t,onExitComplete:s}=this.node.presenceContext,{isPresent:n}=this.node.prevPresenceContext||{};if(!this.node.animationState||t===n)return;const i=this.node.animationState.setActive("exit",!t);s&&!t&&i.then(()=>s(this.id))}mount(){const{register:t}=this.node.presenceContext||{};t&&(this.unmount=t(this.id))}unmount(){}}const uc={animation:{Feature:ac},exit:{Feature:cc}};function We(e,t,s,n={passive:!0}){return e.addEventListener(t,s,n),()=>e.removeEventListener(t,s)}function He(e){return{point:{x:e.pageX,y:e.pageY}}}const dc=e=>t=>ks(t)&&e(t,He(t));function Fe(e,t,s,n){return We(e,t,dc(s),n)}const kn=(e,t)=>Math.abs(e-t);function hc(e,t){const s=kn(e.x,t.x),n=kn(e.y,t.y);return Math.sqrt(s**2+n**2)}class Ir{constructor(t,s,{transformPagePoint:n,contextWindow:i,dragSnapToOrigin:o=!1}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const h=Dt(this.lastMoveEventInfo,this.history),m=this.startEvent!==null,p=hc(h.offset,{x:0,y:0})>=3;if(!m&&!p)return;const{point:g}=h,{timestamp:x}=O;this.history.push({...g,timestamp:x});const{onStart:v,onMove:b}=this.handlers;m||(v&&v(this.lastMoveEvent,h),this.startEvent=this.lastMoveEvent),b&&b(this.lastMoveEvent,h)},this.handlePointerMove=(h,m)=>{this.lastMoveEvent=h,this.lastMoveEventInfo=Rt(m,this.transformPagePoint),M.update(this.updatePoint,!0)},this.handlePointerUp=(h,m)=>{this.end();const{onEnd:p,onSessionEnd:g,resumeAnimation:x}=this.handlers;if(this.dragSnapToOrigin&&x&&x(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const v=Dt(h.type==="pointercancel"?this.lastMoveEventInfo:Rt(m,this.transformPagePoint),this.history);this.startEvent&&p&&p(h,v),g&&g(h,v)},!ks(t))return;this.dragSnapToOrigin=o,this.handlers=s,this.transformPagePoint=n,this.contextWindow=i||window;const r=He(t),l=Rt(r,this.transformPagePoint),{point:a}=l,{timestamp:u}=O;this.history=[{...a,timestamp:u}];const{onSessionStart:d}=s;d&&d(t,Dt(l,this.history)),this.removeListeners=Ke(Fe(this.contextWindow,"pointermove",this.handlePointerMove),Fe(this.contextWindow,"pointerup",this.handlePointerUp),Fe(this.contextWindow,"pointercancel",this.handlePointerUp))}updateHandlers(t){this.handlers=t}end(){this.removeListeners&&this.removeListeners(),ie(this.updatePoint)}}function Rt(e,t){return t?{point:t(e.point)}:e}function Nn(e,t){return{x:e.x-t.x,y:e.y-t.y}}function Dt({point:e},t){return{point:e,delta:Nn(e,Fr(t)),offset:Nn(e,mc(t)),velocity:fc(t,.1)}}function mc(e){return e[0]}function Fr(e){return e[e.length-1]}function fc(e,t){if(e.length<2)return{x:0,y:0};let s=e.length-1,n=null;const i=Fr(e);for(;s>=0&&(n=e[s],!(i.timestamp-n.timestamp>Q(t)));)s--;if(!n)return{x:0,y:0};const o=ee(i.timestamp-n.timestamp);if(o===0)return{x:0,y:0};const r={x:(i.x-n.x)/o,y:(i.y-n.y)/o};return r.x===1/0&&(r.x=0),r.y===1/0&&(r.y=0),r}const Br=1e-4,pc=1-Br,gc=1+Br,Or=.01,xc=0-Or,yc=0+Or;function q(e){return e.max-e.min}function vc(e,t,s){return Math.abs(e-t)<=s}function An(e,t,s,n=.5){e.origin=n,e.originPoint=D(t.min,t.max,e.origin),e.scale=q(s)/q(t),e.translate=D(s.min,s.max,e.origin)-e.originPoint,(e.scale>=pc&&e.scale<=gc||isNaN(e.scale))&&(e.scale=1),(e.translate>=xc&&e.translate<=yc||isNaN(e.translate))&&(e.translate=0)}function Be(e,t,s,n){An(e.x,t.x,s.x,n?n.originX:void 0),An(e.y,t.y,s.y,n?n.originY:void 0)}function En(e,t,s){e.min=s.min+t.min,e.max=e.min+q(t)}function bc(e,t,s){En(e.x,t.x,s.x),En(e.y,t.y,s.y)}function Mn(e,t,s){e.min=t.min-s.min,e.max=e.min+q(t)}function Oe(e,t,s){Mn(e.x,t.x,s.x),Mn(e.y,t.y,s.y)}function wc(e,{min:t,max:s},n){return t!==void 0&&e<t?e=n?D(t,e,n.min):Math.max(e,t):s!==void 0&&e>s&&(e=n?D(s,e,n.max):Math.min(e,s)),e}function Rn(e,t,s){return{min:t!==void 0?e.min+t:void 0,max:s!==void 0?e.max+s-(e.max-e.min):void 0}}function Sc(e,{top:t,left:s,bottom:n,right:i}){return{x:Rn(e.x,s,i),y:Rn(e.y,t,n)}}function Dn(e,t){let s=t.min-e.min,n=t.max-e.max;return t.max-t.min<e.max-e.min&&([s,n]=[n,s]),{min:s,max:n}}function Tc(e,t){return{x:Dn(e.x,t.x),y:Dn(e.y,t.y)}}function jc(e,t){let s=.5;const n=q(e),i=q(t);return i>n?s=Ce(t.min,t.max-n,e.min):n>i&&(s=Ce(e.min,e.max-i,t.min)),te(0,1,s)}function Cc(e,t){const s={};return t.min!==void 0&&(s.min=t.min-e.min),t.max!==void 0&&(s.max=t.max-e.min),s}const es=.35;function Pc(e=es){return e===!1?e=0:e===!0&&(e=es),{x:Vn(e,"left","right"),y:Vn(e,"top","bottom")}}function Vn(e,t,s){return{min:Ln(e,t),max:Ln(e,s)}}function Ln(e,t){return typeof e=="number"?e:e[t]||0}const In=()=>({translate:0,scale:1,origin:0,originPoint:0}),we=()=>({x:In(),y:In()}),Fn=()=>({min:0,max:0}),I=()=>({x:Fn(),y:Fn()});function Y(e){return[e("x"),e("y")]}function _r({top:e,left:t,right:s,bottom:n}){return{x:{min:t,max:s},y:{min:e,max:n}}}function kc({x:e,y:t}){return{top:t.min,right:e.max,bottom:t.max,left:e.min}}function Nc(e,t){if(!t)return e;const s=t({x:e.left,y:e.top}),n=t({x:e.right,y:e.bottom});return{top:s.y,left:s.x,bottom:n.y,right:n.x}}function Vt(e){return e===void 0||e===1}function ts({scale:e,scaleX:t,scaleY:s}){return!Vt(e)||!Vt(t)||!Vt(s)}function fe(e){return ts(e)||$r(e)||e.z||e.rotate||e.rotateX||e.rotateY||e.skewX||e.skewY}function $r(e){return Bn(e.x)||Bn(e.y)}function Bn(e){return e&&e!=="0%"}function dt(e,t,s){const n=e-s,i=t*n;return s+i}function On(e,t,s,n,i){return i!==void 0&&(e=dt(e,i,n)),dt(e,s,n)+t}function ss(e,t=0,s=1,n,i){e.min=On(e.min,t,s,n,i),e.max=On(e.max,t,s,n,i)}function Ur(e,{x:t,y:s}){ss(e.x,t.translate,t.scale,t.originPoint),ss(e.y,s.translate,s.scale,s.originPoint)}const _n=.999999999999,$n=1.0000000000001;function Ac(e,t,s,n=!1){const i=s.length;if(!i)return;t.x=t.y=1;let o,r;for(let l=0;l<i;l++){o=s[l],r=o.projectionDelta;const{visualElement:a}=o.options;a&&a.props.style&&a.props.style.display==="contents"||(n&&o.options.layoutScroll&&o.scroll&&o!==o.root&&Te(e,{x:-o.scroll.offset.x,y:-o.scroll.offset.y}),r&&(t.x*=r.x.scale,t.y*=r.y.scale,Ur(e,r)),n&&fe(o.latestValues)&&Te(e,o.latestValues))}t.x<$n&&t.x>_n&&(t.x=1),t.y<$n&&t.y>_n&&(t.y=1)}function Se(e,t){e.min=e.min+t,e.max=e.max+t}function Un(e,t,s,n,i=.5){const o=D(e.min,e.max,i);ss(e,t,s,o,n)}function Te(e,t){Un(e.x,t.x,t.scaleX,t.scale,t.originX),Un(e.y,t.y,t.scaleY,t.scale,t.originY)}function zr(e,t){return _r(Nc(e.getBoundingClientRect(),t))}function Ec(e,t,s){const n=zr(e,s),{scroll:i}=t;return i&&(Se(n.x,i.offset.x),Se(n.y,i.offset.y)),n}const Wr=({current:e})=>e?e.ownerDocument.defaultView:null,Mc=new WeakMap;class Rc{constructor(t){this.openDragLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=I(),this.visualElement=t}start(t,{snapToCursor:s=!1}={}){const{presenceContext:n}=this.visualElement;if(n&&n.isPresent===!1)return;const i=d=>{const{dragSnapToOrigin:h}=this.getProps();h?this.pauseAnimation():this.stopAnimation(),s&&this.snapToCursor(He(d).point)},o=(d,h)=>{const{drag:m,dragPropagation:p,onDragStart:g}=this.getProps();if(m&&!p&&(this.openDragLock&&this.openDragLock(),this.openDragLock=ja(m),!this.openDragLock))return;this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),Y(v=>{let b=this.getAxisMotionValue(v).get()||0;if(Z.test(b)){const{projection:y}=this.visualElement;if(y&&y.layout){const S=y.layout.layoutBox[v];S&&(b=q(S)*(parseFloat(b)/100))}}this.originPoint[v]=b}),g&&M.postRender(()=>g(d,h)),qt(this.visualElement,"transform");const{animationState:x}=this.visualElement;x&&x.setActive("whileDrag",!0)},r=(d,h)=>{const{dragPropagation:m,dragDirectionLock:p,onDirectionLock:g,onDrag:x}=this.getProps();if(!m&&!this.openDragLock)return;const{offset:v}=h;if(p&&this.currentDirection===null){this.currentDirection=Dc(v),this.currentDirection!==null&&g&&g(this.currentDirection);return}this.updateAxis("x",h.point,v),this.updateAxis("y",h.point,v),this.visualElement.render(),x&&x(d,h)},l=(d,h)=>this.stop(d,h),a=()=>Y(d=>{var h;return this.getAnimationState(d)==="paused"&&((h=this.getAxisMotionValue(d).animation)===null||h===void 0?void 0:h.play())}),{dragSnapToOrigin:u}=this.getProps();this.panSession=new Ir(t,{onSessionStart:i,onStart:o,onMove:r,onSessionEnd:l,resumeAnimation:a},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:u,contextWindow:Wr(this.visualElement)})}stop(t,s){const n=this.isDragging;if(this.cancel(),!n)return;const{velocity:i}=s;this.startAnimation(i);const{onDragEnd:o}=this.getProps();o&&M.postRender(()=>o(t,s))}cancel(){this.isDragging=!1;const{projection:t,animationState:s}=this.visualElement;t&&(t.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:n}=this.getProps();!n&&this.openDragLock&&(this.openDragLock(),this.openDragLock=null),s&&s.setActive("whileDrag",!1)}updateAxis(t,s,n){const{drag:i}=this.getProps();if(!n||!et(t,i,this.currentDirection))return;const o=this.getAxisMotionValue(t);let r=this.originPoint[t]+n[t];this.constraints&&this.constraints[t]&&(r=wc(r,this.constraints[t],this.elastic[t])),o.set(r)}resolveConstraints(){var t;const{dragConstraints:s,dragElastic:n}=this.getProps(),i=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):(t=this.visualElement.projection)===null||t===void 0?void 0:t.layout,o=this.constraints;s&&ve(s)?this.constraints||(this.constraints=this.resolveRefConstraints()):s&&i?this.constraints=Sc(i.layoutBox,s):this.constraints=!1,this.elastic=Pc(n),o!==this.constraints&&i&&this.constraints&&!this.hasMutatedConstraints&&Y(r=>{this.constraints!==!1&&this.getAxisMotionValue(r)&&(this.constraints[r]=Cc(i.layoutBox[r],this.constraints[r]))})}resolveRefConstraints(){const{dragConstraints:t,onMeasureDragConstraints:s}=this.getProps();if(!t||!ve(t))return!1;const n=t.current,{projection:i}=this.visualElement;if(!i||!i.layout)return!1;const o=Ec(n,i.root,this.visualElement.getTransformPagePoint());let r=Tc(i.layout.layoutBox,o);if(s){const l=s(kc(r));this.hasMutatedConstraints=!!l,l&&(r=_r(l))}return r}startAnimation(t){const{drag:s,dragMomentum:n,dragElastic:i,dragTransition:o,dragSnapToOrigin:r,onDragTransitionEnd:l}=this.getProps(),a=this.constraints||{},u=Y(d=>{if(!et(d,s,this.currentDirection))return;let h=a&&a[d]||{};r&&(h={min:0,max:0});const m=i?200:1e6,p=i?40:1e7,g={type:"inertia",velocity:n?t[d]:0,bounceStiffness:m,bounceDamping:p,timeConstant:750,restDelta:1,restSpeed:10,...o,...h};return this.startAxisValueAnimation(d,g)});return Promise.all(u).then(l)}startAxisValueAnimation(t,s){const n=this.getAxisMotionValue(t);return qt(this.visualElement,t),n.start(Os(t,n,0,s,this.visualElement,!1))}stopAnimation(){Y(t=>this.getAxisMotionValue(t).stop())}pauseAnimation(){Y(t=>{var s;return(s=this.getAxisMotionValue(t).animation)===null||s===void 0?void 0:s.pause()})}getAnimationState(t){var s;return(s=this.getAxisMotionValue(t).animation)===null||s===void 0?void 0:s.state}getAxisMotionValue(t){const s=`_drag${t.toUpperCase()}`,n=this.visualElement.getProps(),i=n[s];return i||this.visualElement.getValue(t,(n.initial?n.initial[t]:void 0)||0)}snapToCursor(t){Y(s=>{const{drag:n}=this.getProps();if(!et(s,n,this.currentDirection))return;const{projection:i}=this.visualElement,o=this.getAxisMotionValue(s);if(i&&i.layout){const{min:r,max:l}=i.layout.layoutBox[s];o.set(t[s]-D(r,l,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:t,dragConstraints:s}=this.getProps(),{projection:n}=this.visualElement;if(!ve(s)||!n||!this.constraints)return;this.stopAnimation();const i={x:0,y:0};Y(r=>{const l=this.getAxisMotionValue(r);if(l&&this.constraints!==!1){const a=l.get();i[r]=jc({min:a,max:a},this.constraints[r])}});const{transformTemplate:o}=this.visualElement.getProps();this.visualElement.current.style.transform=o?o({},""):"none",n.root&&n.root.updateScroll(),n.updateLayout(),this.resolveConstraints(),Y(r=>{if(!et(r,t,null))return;const l=this.getAxisMotionValue(r),{min:a,max:u}=this.constraints[r];l.set(D(a,u,i[r]))})}addListeners(){if(!this.visualElement.current)return;Mc.set(this.visualElement,this);const t=this.visualElement.current,s=Fe(t,"pointerdown",a=>{const{drag:u,dragListener:d=!0}=this.getProps();u&&d&&this.start(a)}),n=()=>{const{dragConstraints:a}=this.getProps();ve(a)&&a.current&&(this.constraints=this.resolveRefConstraints())},{projection:i}=this.visualElement,o=i.addEventListener("measure",n);i&&!i.layout&&(i.root&&i.root.updateScroll(),i.updateLayout()),M.read(n);const r=We(window,"resize",()=>this.scalePositionWithinConstraints()),l=i.addEventListener("didUpdate",(({delta:a,hasLayoutChanged:u})=>{this.isDragging&&u&&(Y(d=>{const h=this.getAxisMotionValue(d);h&&(this.originPoint[d]+=a[d].translate,h.set(h.get()+a[d].translate))}),this.visualElement.render())}));return()=>{r(),s(),o(),l&&l()}}getProps(){const t=this.visualElement.getProps(),{drag:s=!1,dragDirectionLock:n=!1,dragPropagation:i=!1,dragConstraints:o=!1,dragElastic:r=es,dragMomentum:l=!0}=t;return{...t,drag:s,dragDirectionLock:n,dragPropagation:i,dragConstraints:o,dragElastic:r,dragMomentum:l}}}function et(e,t,s){return(t===!0||t===e)&&(s===null||s===e)}function Dc(e,t=10){let s=null;return Math.abs(e.y)>t?s="y":Math.abs(e.x)>t&&(s="x"),s}class Vc extends ae{constructor(t){super(t),this.removeGroupControls=G,this.removeListeners=G,this.controls=new Rc(t)}mount(){const{dragControls:t}=this.node.getProps();t&&(this.removeGroupControls=t.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||G}unmount(){this.removeGroupControls(),this.removeListeners()}}const zn=e=>(t,s)=>{e&&M.postRender(()=>e(t,s))};class Lc extends ae{constructor(){super(...arguments),this.removePointerDownListener=G}onPointerDown(t){this.session=new Ir(t,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:Wr(this.node)})}createPanHandlers(){const{onPanSessionStart:t,onPanStart:s,onPan:n,onPanEnd:i}=this.node.getProps();return{onSessionStart:zn(t),onStart:zn(s),onMove:n,onEnd:(o,r)=>{delete this.session,i&&M.postRender(()=>i(o,r))}}}mount(){this.removePointerDownListener=Fe(this.node.current,"pointerdown",t=>this.onPointerDown(t))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}const nt={hasAnimatedSinceResize:!0,hasEverUpdated:!1};function Wn(e,t){return t.max===t.min?0:e/(t.max-t.min)*100}const Me={correct:(e,t)=>{if(!t.target)return e;if(typeof e=="string")if(N.test(e))e=parseFloat(e);else return e;const s=Wn(e,t.target.x),n=Wn(e,t.target.y);return`${s}% ${n}%`}},Ic={correct:(e,{treeScale:t,projectionDelta:s})=>{const n=e,i=re.parse(e);if(i.length>5)return n;const o=re.createTransformer(e),r=typeof i[0]!="number"?1:0,l=s.x.scale*t.x,a=s.y.scale*t.y;i[0+r]/=l,i[1+r]/=a;const u=D(l,a,.5);return typeof i[2+r]=="number"&&(i[2+r]/=u),typeof i[3+r]=="number"&&(i[3+r]/=u),o(i)}};class Fc extends f.Component{componentDidMount(){const{visualElement:t,layoutGroup:s,switchLayoutGroup:n,layoutId:i}=this.props,{projection:o}=t;na(Bc),o&&(s.group&&s.group.add(o),n&&n.register&&i&&n.register(o),o.root.didUpdate(),o.addEventListener("animationComplete",()=>{this.safeToRemove()}),o.setOptions({...o.options,onExitComplete:()=>this.safeToRemove()})),nt.hasEverUpdated=!0}getSnapshotBeforeUpdate(t){const{layoutDependency:s,visualElement:n,drag:i,isPresent:o}=this.props,r=n.projection;return r&&(r.isPresent=o,i||t.layoutDependency!==s||s===void 0?r.willUpdate():this.safeToRemove(),t.isPresent!==o&&(o?r.promote():r.relegate()||M.postRender(()=>{const l=r.getStack();(!l||!l.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:t}=this.props.visualElement;t&&(t.root.didUpdate(),fs.postRender(()=>{!t.currentAnimation&&t.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:t,layoutGroup:s,switchLayoutGroup:n}=this.props,{projection:i}=t;i&&(i.scheduleCheckAfterUnmount(),s&&s.group&&s.group.remove(i),n&&n.deregister&&n.deregister(i))}safeToRemove(){const{safeToRemove:t}=this.props;t&&t()}render(){return null}}function Gr(e){const[t,s]=ki(),n=f.useContext(os);return c.jsx(Fc,{...e,layoutGroup:n,switchLayoutGroup:f.useContext(Li),isPresent:t,safeToRemove:s})}const Bc={borderRadius:{...Me,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:Me,borderTopRightRadius:Me,borderBottomLeftRadius:Me,borderBottomRightRadius:Me,boxShadow:Ic};function Oc(e,t,s){const n=U(e)?e:Ue(e);return n.start(Os("",n,t,s)),n.animation}function _c(e){return e instanceof SVGElement&&e.tagName!=="svg"}const $c=(e,t)=>e.depth-t.depth;class Uc{constructor(){this.children=[],this.isDirty=!1}add(t){Ns(this.children,t),this.isDirty=!0}remove(t){As(this.children,t),this.isDirty=!0}forEach(t){this.isDirty&&this.children.sort($c),this.isDirty=!1,this.children.forEach(t)}}function zc(e,t){const s=J.now(),n=({timestamp:i})=>{const o=i-s;o>=t&&(ie(n),e(o-t))};return M.read(n,!0),()=>ie(n)}const qr=["TopLeft","TopRight","BottomLeft","BottomRight"],Wc=qr.length,Gn=e=>typeof e=="string"?parseFloat(e):e,qn=e=>typeof e=="number"||N.test(e);function Gc(e,t,s,n,i,o){i?(e.opacity=D(0,s.opacity!==void 0?s.opacity:1,qc(n)),e.opacityExit=D(t.opacity!==void 0?t.opacity:1,0,Kc(n))):o&&(e.opacity=D(t.opacity!==void 0?t.opacity:1,s.opacity!==void 0?s.opacity:1,n));for(let r=0;r<Wc;r++){const l=`border${qr[r]}Radius`;let a=Kn(t,l),u=Kn(s,l);if(a===void 0&&u===void 0)continue;a||(a=0),u||(u=0),a===0||u===0||qn(a)===qn(u)?(e[l]=Math.max(D(Gn(a),Gn(u),n),0),(Z.test(u)||Z.test(a))&&(e[l]+="%")):e[l]=u}(t.rotate||s.rotate)&&(e.rotate=D(t.rotate||0,s.rotate||0,n))}function Kn(e,t){return e[t]!==void 0?e[t]:e.borderRadius}const qc=Kr(0,.5,dr),Kc=Kr(.5,.95,G);function Kr(e,t,s){return n=>n<e?0:n>t?1:s(Ce(e,t,n))}function Hn(e,t){e.min=t.min,e.max=t.max}function H(e,t){Hn(e.x,t.x),Hn(e.y,t.y)}function Yn(e,t){e.translate=t.translate,e.scale=t.scale,e.originPoint=t.originPoint,e.origin=t.origin}function Xn(e,t,s,n,i){return e-=t,e=dt(e,1/s,n),i!==void 0&&(e=dt(e,1/i,n)),e}function Hc(e,t=0,s=1,n=.5,i,o=e,r=e){if(Z.test(t)&&(t=parseFloat(t),t=D(r.min,r.max,t/100)-r.min),typeof t!="number")return;let l=D(o.min,o.max,n);e===o&&(l-=t),e.min=Xn(e.min,t,s,l,i),e.max=Xn(e.max,t,s,l,i)}function Zn(e,t,[s,n,i],o,r){Hc(e,t[s],t[n],t[i],t.scale,o,r)}const Yc=["x","scaleX","originX"],Xc=["y","scaleY","originY"];function Jn(e,t,s,n){Zn(e.x,t,Yc,s?s.x:void 0,n?n.x:void 0),Zn(e.y,t,Xc,s?s.y:void 0,n?n.y:void 0)}function Qn(e){return e.translate===0&&e.scale===1}function Hr(e){return Qn(e.x)&&Qn(e.y)}function ei(e,t){return e.min===t.min&&e.max===t.max}function Zc(e,t){return ei(e.x,t.x)&&ei(e.y,t.y)}function ti(e,t){return Math.round(e.min)===Math.round(t.min)&&Math.round(e.max)===Math.round(t.max)}function Yr(e,t){return ti(e.x,t.x)&&ti(e.y,t.y)}function si(e){return q(e.x)/q(e.y)}function ni(e,t){return e.translate===t.translate&&e.scale===t.scale&&e.originPoint===t.originPoint}class Jc{constructor(){this.members=[]}add(t){Ns(this.members,t),t.scheduleRender()}remove(t){if(As(this.members,t),t===this.prevLead&&(this.prevLead=void 0),t===this.lead){const s=this.members[this.members.length-1];s&&this.promote(s)}}relegate(t){const s=this.members.findIndex(i=>t===i);if(s===0)return!1;let n;for(let i=s;i>=0;i--){const o=this.members[i];if(o.isPresent!==!1){n=o;break}}return n?(this.promote(n),!0):!1}promote(t,s){const n=this.lead;if(t!==n&&(this.prevLead=n,this.lead=t,t.show(),n)){n.instance&&n.scheduleRender(),t.scheduleRender(),t.resumeFrom=n,s&&(t.resumeFrom.preserveOpacity=!0),n.snapshot&&(t.snapshot=n.snapshot,t.snapshot.latestValues=n.animationValues||n.latestValues),t.root&&t.root.isUpdating&&(t.isLayoutDirty=!0);const{crossfade:i}=t.options;i===!1&&n.hide()}}exitAnimationComplete(){this.members.forEach(t=>{const{options:s,resumingFrom:n}=t;s.onExitComplete&&s.onExitComplete(),n&&n.options.onExitComplete&&n.options.onExitComplete()})}scheduleRender(){this.members.forEach(t=>{t.instance&&t.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function Qc(e,t,s){let n="";const i=e.x.translate/t.x,o=e.y.translate/t.y,r=(s==null?void 0:s.z)||0;if((i||o||r)&&(n=`translate3d(${i}px, ${o}px, ${r}px) `),(t.x!==1||t.y!==1)&&(n+=`scale(${1/t.x}, ${1/t.y}) `),s){const{transformPerspective:u,rotate:d,rotateX:h,rotateY:m,skewX:p,skewY:g}=s;u&&(n=`perspective(${u}px) ${n}`),d&&(n+=`rotate(${d}deg) `),h&&(n+=`rotateX(${h}deg) `),m&&(n+=`rotateY(${m}deg) `),p&&(n+=`skewX(${p}deg) `),g&&(n+=`skewY(${g}deg) `)}const l=e.x.scale*t.x,a=e.y.scale*t.y;return(l!==1||a!==1)&&(n+=`scale(${l}, ${a})`),n||"none"}const pe={type:"projectionFrame",totalNodes:0,resolvedTargetDeltas:0,recalculatedProjection:0},Le=typeof window<"u"&&window.MotionDebug!==void 0,Lt=["","X","Y","Z"],eu={visibility:"hidden"},ii=1e3;let tu=0;function It(e,t,s,n){const{latestValues:i}=t;i[e]&&(s[e]=i[e],t.setStaticValue(e,0),n&&(n[e]=0))}function Xr(e){if(e.hasCheckedOptimisedAppear=!0,e.root===e)return;const{visualElement:t}=e.options;if(!t)return;const s=ir(t);if(window.MotionHasOptimisedAnimation(s,"transform")){const{layout:i,layoutId:o}=e.options;window.MotionCancelOptimisedAnimation(s,"transform",M,!(i||o))}const{parent:n}=e;n&&!n.hasCheckedOptimisedAppear&&Xr(n)}function Zr({attachResizeListener:e,defaultParent:t,measureScroll:s,checkIsScrollRoot:n,resetTransform:i}){return class{constructor(r={},l=t==null?void 0:t()){this.id=tu++,this.animationId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.hasCheckedOptimisedAppear=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.updateScheduled=!1,this.scheduleUpdate=()=>this.update(),this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,Le&&(pe.totalNodes=pe.resolvedTargetDeltas=pe.recalculatedProjection=0),this.nodes.forEach(iu),this.nodes.forEach(cu),this.nodes.forEach(uu),this.nodes.forEach(ru),Le&&window.MotionDebug.record(pe)},this.resolvedRelativeTargetAt=0,this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=r,this.root=l?l.root||l:this,this.path=l?[...l.path,l]:[],this.parent=l,this.depth=l?l.depth+1:0;for(let a=0;a<this.path.length;a++)this.path[a].shouldResetTransform=!0;this.root===this&&(this.nodes=new Uc)}addEventListener(r,l){return this.eventHandlers.has(r)||this.eventHandlers.set(r,new Es),this.eventHandlers.get(r).add(l)}notifyListeners(r,...l){const a=this.eventHandlers.get(r);a&&a.notify(...l)}hasListeners(r){return this.eventHandlers.has(r)}mount(r,l=this.root.hasTreeAnimated){if(this.instance)return;this.isSVG=_c(r),this.instance=r;const{layoutId:a,layout:u,visualElement:d}=this.options;if(d&&!d.current&&d.mount(r),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),l&&(u||a)&&(this.isLayoutDirty=!0),e){let h;const m=()=>this.root.updateBlockedByResize=!1;e(r,()=>{this.root.updateBlockedByResize=!0,h&&h(),h=zc(m,250),nt.hasAnimatedSinceResize&&(nt.hasAnimatedSinceResize=!1,this.nodes.forEach(oi))})}a&&this.root.registerSharedNode(a,this),this.options.animate!==!1&&d&&(a||u)&&this.addEventListener("didUpdate",({delta:h,hasLayoutChanged:m,hasRelativeTargetChanged:p,layout:g})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const x=this.options.transition||d.getDefaultTransition()||pu,{onLayoutAnimationStart:v,onLayoutAnimationComplete:b}=d.getProps(),y=!this.targetLayout||!Yr(this.targetLayout,g)||p,S=!m&&p;if(this.options.layoutRoot||this.resumeFrom&&this.resumeFrom.instance||S||m&&(y||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0),this.setAnimationOrigin(h,S);const C={...js(x,"layout"),onPlay:v,onComplete:b};(d.shouldReduceMotion||this.options.layoutRoot)&&(C.delay=0,C.type=!1),this.startAnimation(C)}else m||oi(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=g})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const r=this.getStack();r&&r.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,ie(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(du),this.animationId++)}getTransformTemplate(){const{visualElement:r}=this.options;return r&&r.getProps().transformTemplate}willUpdate(r=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(window.MotionCancelOptimisedAnimation&&!this.hasCheckedOptimisedAppear&&Xr(this),!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let d=0;d<this.path.length;d++){const h=this.path[d];h.shouldResetTransform=!0,h.updateScroll("snapshot"),h.options.layoutRoot&&h.willUpdate(!1)}const{layoutId:l,layout:a}=this.options;if(l===void 0&&!a)return;const u=this.getTransformTemplate();this.prevTransformTemplateValue=u?u(this.latestValues,""):void 0,this.updateSnapshot(),r&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(ri);return}this.isUpdating||this.nodes.forEach(au),this.isUpdating=!1,this.nodes.forEach(lu),this.nodes.forEach(su),this.nodes.forEach(nu),this.clearAllSnapshots();const l=J.now();O.delta=te(0,1e3/60,l-O.timestamp),O.timestamp=l,O.isProcessing=!0,Pt.update.process(O),Pt.preRender.process(O),Pt.render.process(O),O.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,fs.read(this.scheduleUpdate))}clearAllSnapshots(){this.nodes.forEach(ou),this.sharedNodes.forEach(hu)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,M.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){M.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure())}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let a=0;a<this.path.length;a++)this.path[a].updateScroll();const r=this.layout;this.layout=this.measure(!1),this.layoutCorrected=I(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:l}=this.options;l&&l.notify("LayoutMeasure",this.layout.layoutBox,r?r.layoutBox:void 0)}updateScroll(r="measure"){let l=!!(this.options.layoutScroll&&this.instance);if(this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===r&&(l=!1),l){const a=n(this.instance);this.scroll={animationId:this.root.animationId,phase:r,isRoot:a,offset:s(this.instance),wasRoot:this.scroll?this.scroll.isRoot:a}}}resetTransform(){if(!i)return;const r=this.isLayoutDirty||this.shouldResetTransform||this.options.alwaysMeasureLayout,l=this.projectionDelta&&!Hr(this.projectionDelta),a=this.getTransformTemplate(),u=a?a(this.latestValues,""):void 0,d=u!==this.prevTransformTemplateValue;r&&(l||fe(this.latestValues)||d)&&(i(this.instance,u),this.shouldResetTransform=!1,this.scheduleRender())}measure(r=!0){const l=this.measurePageBox();let a=this.removeElementScroll(l);return r&&(a=this.removeTransform(a)),gu(a),{animationId:this.root.animationId,measuredBox:l,layoutBox:a,latestValues:{},source:this.id}}measurePageBox(){var r;const{visualElement:l}=this.options;if(!l)return I();const a=l.measureViewportBox();if(!(((r=this.scroll)===null||r===void 0?void 0:r.wasRoot)||this.path.some(xu))){const{scroll:d}=this.root;d&&(Se(a.x,d.offset.x),Se(a.y,d.offset.y))}return a}removeElementScroll(r){var l;const a=I();if(H(a,r),!((l=this.scroll)===null||l===void 0)&&l.wasRoot)return a;for(let u=0;u<this.path.length;u++){const d=this.path[u],{scroll:h,options:m}=d;d!==this.root&&h&&m.layoutScroll&&(h.wasRoot&&H(a,r),Se(a.x,h.offset.x),Se(a.y,h.offset.y))}return a}applyTransform(r,l=!1){const a=I();H(a,r);for(let u=0;u<this.path.length;u++){const d=this.path[u];!l&&d.options.layoutScroll&&d.scroll&&d!==d.root&&Te(a,{x:-d.scroll.offset.x,y:-d.scroll.offset.y}),fe(d.latestValues)&&Te(a,d.latestValues)}return fe(this.latestValues)&&Te(a,this.latestValues),a}removeTransform(r){const l=I();H(l,r);for(let a=0;a<this.path.length;a++){const u=this.path[a];if(!u.instance||!fe(u.latestValues))continue;ts(u.latestValues)&&u.updateSnapshot();const d=I(),h=u.measurePageBox();H(d,h),Jn(l,u.latestValues,u.snapshot?u.snapshot.layoutBox:void 0,d)}return fe(this.latestValues)&&Jn(l,this.latestValues),l}setTargetDelta(r){this.targetDelta=r,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(r){this.options={...this.options,...r,crossfade:r.crossfade!==void 0?r.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==O.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(r=!1){var l;const a=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=a.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=a.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=a.isSharedProjectionDirty);const u=!!this.resumingFrom||this!==a;if(!(r||u&&this.isSharedProjectionDirty||this.isProjectionDirty||!((l=this.parent)===null||l===void 0)&&l.isProjectionDirty||this.attemptToResolveRelativeTarget||this.root.updateBlockedByResize))return;const{layout:h,layoutId:m}=this.options;if(!(!this.layout||!(h||m))){if(this.resolvedRelativeTargetAt=O.timestamp,!this.targetDelta&&!this.relativeTarget){const p=this.getClosestProjectingParent();p&&p.layout&&this.animationProgress!==1?(this.relativeParent=p,this.forceRelativeParentToResolveTarget(),this.relativeTarget=I(),this.relativeTargetOrigin=I(),Oe(this.relativeTargetOrigin,this.layout.layoutBox,p.layout.layoutBox),H(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}if(!(!this.relativeTarget&&!this.targetDelta)){if(this.target||(this.target=I(),this.targetWithTransforms=I()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),bc(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):H(this.target,this.layout.layoutBox),Ur(this.target,this.targetDelta)):H(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget){this.attemptToResolveRelativeTarget=!1;const p=this.getClosestProjectingParent();p&&!!p.resumingFrom==!!this.resumingFrom&&!p.options.layoutScroll&&p.target&&this.animationProgress!==1?(this.relativeParent=p,this.forceRelativeParentToResolveTarget(),this.relativeTarget=I(),this.relativeTargetOrigin=I(),Oe(this.relativeTargetOrigin,this.target,p.target),H(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}Le&&pe.resolvedTargetDeltas++}}}getClosestProjectingParent(){if(!(!this.parent||ts(this.parent.latestValues)||$r(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}calcProjection(){var r;const l=this.getLead(),a=!!this.resumingFrom||this!==l;let u=!0;if((this.isProjectionDirty||!((r=this.parent)===null||r===void 0)&&r.isProjectionDirty)&&(u=!1),a&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(u=!1),this.resolvedRelativeTargetAt===O.timestamp&&(u=!1),u)return;const{layout:d,layoutId:h}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(d||h))return;H(this.layoutCorrected,this.layout.layoutBox);const m=this.treeScale.x,p=this.treeScale.y;Ac(this.layoutCorrected,this.treeScale,this.path,a),l.layout&&!l.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(l.target=l.layout.layoutBox,l.targetWithTransforms=I());const{target:g}=l;if(!g){this.prevProjectionDelta&&(this.createProjectionDeltas(),this.scheduleRender());return}!this.projectionDelta||!this.prevProjectionDelta?this.createProjectionDeltas():(Yn(this.prevProjectionDelta.x,this.projectionDelta.x),Yn(this.prevProjectionDelta.y,this.projectionDelta.y)),Be(this.projectionDelta,this.layoutCorrected,g,this.latestValues),(this.treeScale.x!==m||this.treeScale.y!==p||!ni(this.projectionDelta.x,this.prevProjectionDelta.x)||!ni(this.projectionDelta.y,this.prevProjectionDelta.y))&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",g)),Le&&pe.recalculatedProjection++}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(r=!0){var l;if((l=this.options.visualElement)===null||l===void 0||l.scheduleRender(),r){const a=this.getStack();a&&a.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}createProjectionDeltas(){this.prevProjectionDelta=we(),this.projectionDelta=we(),this.projectionDeltaWithTransform=we()}setAnimationOrigin(r,l=!1){const a=this.snapshot,u=a?a.latestValues:{},d={...this.latestValues},h=we();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!l;const m=I(),p=a?a.source:void 0,g=this.layout?this.layout.source:void 0,x=p!==g,v=this.getStack(),b=!v||v.members.length<=1,y=!!(x&&!b&&this.options.crossfade===!0&&!this.path.some(fu));this.animationProgress=0;let S;this.mixTargetDelta=C=>{const w=C/1e3;ai(h.x,r.x,w),ai(h.y,r.y,w),this.setTargetDelta(h),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(Oe(m,this.layout.layoutBox,this.relativeParent.layout.layoutBox),mu(this.relativeTarget,this.relativeTargetOrigin,m,w),S&&Zc(this.relativeTarget,S)&&(this.isProjectionDirty=!1),S||(S=I()),H(S,this.relativeTarget)),x&&(this.animationValues=d,Gc(d,u,this.latestValues,w,y,b)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=w},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(r){this.notifyListeners("animationStart"),this.currentAnimation&&this.currentAnimation.stop(),this.resumingFrom&&this.resumingFrom.currentAnimation&&this.resumingFrom.currentAnimation.stop(),this.pendingAnimation&&(ie(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=M.update(()=>{nt.hasAnimatedSinceResize=!0,this.currentAnimation=Oc(0,ii,{...r,onUpdate:l=>{this.mixTargetDelta(l),r.onUpdate&&r.onUpdate(l)},onComplete:()=>{r.onComplete&&r.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const r=this.getStack();r&&r.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(ii),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const r=this.getLead();let{targetWithTransforms:l,target:a,layout:u,latestValues:d}=r;if(!(!l||!a||!u)){if(this!==r&&this.layout&&u&&Jr(this.options.animationType,this.layout.layoutBox,u.layoutBox)){a=this.target||I();const h=q(this.layout.layoutBox.x);a.x.min=r.target.x.min,a.x.max=a.x.min+h;const m=q(this.layout.layoutBox.y);a.y.min=r.target.y.min,a.y.max=a.y.min+m}H(l,a),Te(l,d),Be(this.projectionDeltaWithTransform,this.layoutCorrected,l,d)}}registerSharedNode(r,l){this.sharedNodes.has(r)||this.sharedNodes.set(r,new Jc),this.sharedNodes.get(r).add(l);const u=l.options.initialPromotionConfig;l.promote({transition:u?u.transition:void 0,preserveFollowOpacity:u&&u.shouldPreserveFollowOpacity?u.shouldPreserveFollowOpacity(l):void 0})}isLead(){const r=this.getStack();return r?r.lead===this:!0}getLead(){var r;const{layoutId:l}=this.options;return l?((r=this.getStack())===null||r===void 0?void 0:r.lead)||this:this}getPrevLead(){var r;const{layoutId:l}=this.options;return l?(r=this.getStack())===null||r===void 0?void 0:r.prevLead:void 0}getStack(){const{layoutId:r}=this.options;if(r)return this.root.sharedNodes.get(r)}promote({needsReset:r,transition:l,preserveFollowOpacity:a}={}){const u=this.getStack();u&&u.promote(this,a),r&&(this.projectionDelta=void 0,this.needsReset=!0),l&&this.setOptions({transition:l})}relegate(){const r=this.getStack();return r?r.relegate(this):!1}resetSkewAndRotation(){const{visualElement:r}=this.options;if(!r)return;let l=!1;const{latestValues:a}=r;if((a.z||a.rotate||a.rotateX||a.rotateY||a.rotateZ||a.skewX||a.skewY)&&(l=!0),!l)return;const u={};a.z&&It("z",r,u,this.animationValues);for(let d=0;d<Lt.length;d++)It(`rotate${Lt[d]}`,r,u,this.animationValues),It(`skew${Lt[d]}`,r,u,this.animationValues);r.render();for(const d in u)r.setStaticValue(d,u[d]),this.animationValues&&(this.animationValues[d]=u[d]);r.scheduleRender()}getProjectionStyles(r){var l,a;if(!this.instance||this.isSVG)return;if(!this.isVisible)return eu;const u={visibility:""},d=this.getTransformTemplate();if(this.needsReset)return this.needsReset=!1,u.opacity="",u.pointerEvents=tt(r==null?void 0:r.pointerEvents)||"",u.transform=d?d(this.latestValues,""):"none",u;const h=this.getLead();if(!this.projectionDelta||!this.layout||!h.target){const x={};return this.options.layoutId&&(x.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,x.pointerEvents=tt(r==null?void 0:r.pointerEvents)||""),this.hasProjected&&!fe(this.latestValues)&&(x.transform=d?d({},""):"none",this.hasProjected=!1),x}const m=h.animationValues||h.latestValues;this.applyTransformsToTarget(),u.transform=Qc(this.projectionDeltaWithTransform,this.treeScale,m),d&&(u.transform=d(m,u.transform));const{x:p,y:g}=this.projectionDelta;u.transformOrigin=`${p.origin*100}% ${g.origin*100}% 0`,h.animationValues?u.opacity=h===this?(a=(l=m.opacity)!==null&&l!==void 0?l:this.latestValues.opacity)!==null&&a!==void 0?a:1:this.preserveOpacity?this.latestValues.opacity:m.opacityExit:u.opacity=h===this?m.opacity!==void 0?m.opacity:"":m.opacityExit!==void 0?m.opacityExit:0;for(const x in ot){if(m[x]===void 0)continue;const{correct:v,applyTo:b}=ot[x],y=u.transform==="none"?m[x]:v(m[x],h);if(b){const S=b.length;for(let C=0;C<S;C++)u[b[C]]=y}else u[x]=y}return this.options.layoutId&&(u.pointerEvents=h===this?tt(r==null?void 0:r.pointerEvents)||"":"none"),u}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(r=>{var l;return(l=r.currentAnimation)===null||l===void 0?void 0:l.stop()}),this.root.nodes.forEach(ri),this.root.sharedNodes.clear()}}}function su(e){e.updateLayout()}function nu(e){var t;const s=((t=e.resumeFrom)===null||t===void 0?void 0:t.snapshot)||e.snapshot;if(e.isLead()&&e.layout&&s&&e.hasListeners("didUpdate")){const{layoutBox:n,measuredBox:i}=e.layout,{animationType:o}=e.options,r=s.source!==e.layout.source;o==="size"?Y(h=>{const m=r?s.measuredBox[h]:s.layoutBox[h],p=q(m);m.min=n[h].min,m.max=m.min+p}):Jr(o,s.layoutBox,n)&&Y(h=>{const m=r?s.measuredBox[h]:s.layoutBox[h],p=q(n[h]);m.max=m.min+p,e.relativeTarget&&!e.currentAnimation&&(e.isProjectionDirty=!0,e.relativeTarget[h].max=e.relativeTarget[h].min+p)});const l=we();Be(l,n,s.layoutBox);const a=we();r?Be(a,e.applyTransform(i,!0),s.measuredBox):Be(a,n,s.layoutBox);const u=!Hr(l);let d=!1;if(!e.resumeFrom){const h=e.getClosestProjectingParent();if(h&&!h.resumeFrom){const{snapshot:m,layout:p}=h;if(m&&p){const g=I();Oe(g,s.layoutBox,m.layoutBox);const x=I();Oe(x,n,p.layoutBox),Yr(g,x)||(d=!0),h.options.layoutRoot&&(e.relativeTarget=x,e.relativeTargetOrigin=g,e.relativeParent=h)}}}e.notifyListeners("didUpdate",{layout:n,snapshot:s,delta:a,layoutDelta:l,hasLayoutChanged:u,hasRelativeTargetChanged:d})}else if(e.isLead()){const{onExitComplete:n}=e.options;n&&n()}e.options.transition=void 0}function iu(e){Le&&pe.totalNodes++,e.parent&&(e.isProjecting()||(e.isProjectionDirty=e.parent.isProjectionDirty),e.isSharedProjectionDirty||(e.isSharedProjectionDirty=!!(e.isProjectionDirty||e.parent.isProjectionDirty||e.parent.isSharedProjectionDirty)),e.isTransformDirty||(e.isTransformDirty=e.parent.isTransformDirty))}function ru(e){e.isProjectionDirty=e.isSharedProjectionDirty=e.isTransformDirty=!1}function ou(e){e.clearSnapshot()}function ri(e){e.clearMeasurements()}function au(e){e.isLayoutDirty=!1}function lu(e){const{visualElement:t}=e.options;t&&t.getProps().onBeforeLayoutMeasure&&t.notify("BeforeLayoutMeasure"),e.resetTransform()}function oi(e){e.finishAnimation(),e.targetDelta=e.relativeTarget=e.target=void 0,e.isProjectionDirty=!0}function cu(e){e.resolveTargetDelta()}function uu(e){e.calcProjection()}function du(e){e.resetSkewAndRotation()}function hu(e){e.removeLeadSnapshot()}function ai(e,t,s){e.translate=D(t.translate,0,s),e.scale=D(t.scale,1,s),e.origin=t.origin,e.originPoint=t.originPoint}function li(e,t,s,n){e.min=D(t.min,s.min,n),e.max=D(t.max,s.max,n)}function mu(e,t,s,n){li(e.x,t.x,s.x,n),li(e.y,t.y,s.y,n)}function fu(e){return e.animationValues&&e.animationValues.opacityExit!==void 0}const pu={duration:.45,ease:[.4,0,.1,1]},ci=e=>typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().includes(e),ui=ci("applewebkit/")&&!ci("chrome/")?Math.round:G;function di(e){e.min=ui(e.min),e.max=ui(e.max)}function gu(e){di(e.x),di(e.y)}function Jr(e,t,s){return e==="position"||e==="preserve-aspect"&&!vc(si(t),si(s),.2)}function xu(e){var t;return e!==e.root&&((t=e.scroll)===null||t===void 0?void 0:t.wasRoot)}const yu=Zr({attachResizeListener:(e,t)=>We(e,"resize",t),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),Ft={current:void 0},Qr=Zr({measureScroll:e=>({x:e.scrollLeft,y:e.scrollTop}),defaultParent:()=>{if(!Ft.current){const e=new yu({});e.mount(window),e.setOptions({layoutScroll:!0}),Ft.current=e}return Ft.current},resetTransform:(e,t)=>{e.style.transform=t!==void 0?t:"none"},checkIsScrollRoot:e=>window.getComputedStyle(e).position==="fixed"}),vu={pan:{Feature:Lc},drag:{Feature:Vc,ProjectionNode:Qr,MeasureLayout:Gr}};function hi(e,t,s){const{props:n}=e;e.animationState&&n.whileHover&&e.animationState.setActive("whileHover",s==="Start");const i="onHover"+s,o=n[i];o&&M.postRender(()=>o(t,He(t)))}class bu extends ae{mount(){const{current:t}=this.node;t&&(this.unmount=va(t,s=>(hi(this.node,s,"Start"),n=>hi(this.node,n,"End"))))}unmount(){}}class wu extends ae{constructor(){super(...arguments),this.isActive=!1}onFocus(){let t=!1;try{t=this.node.current.matches(":focus-visible")}catch{t=!0}!t||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=Ke(We(this.node.current,"focus",()=>this.onFocus()),We(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}function mi(e,t,s){const{props:n}=e;e.animationState&&n.whileTap&&e.animationState.setActive("whileTap",s==="Start");const i="onTap"+(s==="End"?"":s),o=n[i];o&&M.postRender(()=>o(t,He(t)))}class Su extends ae{mount(){const{current:t}=this.node;t&&(this.unmount=Ta(t,s=>(mi(this.node,s,"Start"),(n,{success:i})=>mi(this.node,n,i?"End":"Cancel")),{useGlobalTarget:this.node.props.globalTapTarget}))}unmount(){}}const ns=new WeakMap,Bt=new WeakMap,Tu=e=>{const t=ns.get(e.target);t&&t(e)},ju=e=>{e.forEach(Tu)};function Cu({root:e,...t}){const s=e||document;Bt.has(s)||Bt.set(s,{});const n=Bt.get(s),i=JSON.stringify(t);return n[i]||(n[i]=new IntersectionObserver(ju,{root:e,...t})),n[i]}function Pu(e,t,s){const n=Cu(t);return ns.set(e,s),n.observe(e),()=>{ns.delete(e),n.unobserve(e)}}const ku={some:0,all:1};class Nu extends ae{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:t={}}=this.node.getProps(),{root:s,margin:n,amount:i="some",once:o}=t,r={root:s?s.current:void 0,rootMargin:n,threshold:typeof i=="number"?i:ku[i]},l=a=>{const{isIntersecting:u}=a;if(this.isInView===u||(this.isInView=u,o&&!u&&this.hasEnteredView))return;u&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",u);const{onViewportEnter:d,onViewportLeave:h}=this.node.getProps(),m=u?d:h;m&&m(a)};return Pu(this.node.current,r,l)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:t,prevProps:s}=this.node;["amount","margin","root"].some(Au(t,s))&&this.startObserver()}unmount(){}}function Au({viewport:e={}},{viewport:t={}}={}){return s=>e[s]!==t[s]}const Eu={inView:{Feature:Nu},tap:{Feature:Su},focus:{Feature:wu},hover:{Feature:bu}},Mu={layout:{ProjectionNode:Qr,MeasureLayout:Gr}},is={current:null},eo={current:!1};function Ru(){if(eo.current=!0,!!cs)if(window.matchMedia){const e=window.matchMedia("(prefers-reduced-motion)"),t=()=>is.current=e.matches;e.addListener(t),t()}else is.current=!1}const Du=[...Cr,$,re],Vu=e=>Du.find(jr(e)),fi=new WeakMap;function Lu(e,t,s){for(const n in t){const i=t[n],o=s[n];if(U(i))e.addValue(n,i);else if(U(o))e.addValue(n,Ue(i,{owner:e}));else if(o!==i)if(e.hasValue(n)){const r=e.getValue(n);r.liveStyle===!0?r.jump(i):r.hasAnimated||r.set(i)}else{const r=e.getStaticValue(n);e.addValue(n,Ue(r!==void 0?r:i,{owner:e}))}}for(const n in s)t[n]===void 0&&e.removeValue(n);return t}const pi=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"];class Iu{scrapeMotionValuesFromProps(t,s,n){return{}}constructor({parent:t,props:s,presenceContext:n,reducedMotionConfig:i,blockInitialAnimation:o,visualState:r},l={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.KeyframeResolver=Is,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.renderScheduledAt=0,this.scheduleRender=()=>{const p=J.now();this.renderScheduledAt<p&&(this.renderScheduledAt=p,M.render(this.render,!1,!0))};const{latestValues:a,renderState:u,onUpdate:d}=r;this.onUpdate=d,this.latestValues=a,this.baseTarget={...a},this.initialValues=s.initial?{...a}:{},this.renderState=u,this.parent=t,this.props=s,this.presenceContext=n,this.depth=t?t.depth+1:0,this.reducedMotionConfig=i,this.options=l,this.blockInitialAnimation=!!o,this.isControllingVariants=gt(s),this.isVariantNode=Di(s),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(t&&t.current);const{willChange:h,...m}=this.scrapeMotionValuesFromProps(s,{},this);for(const p in m){const g=m[p];a[p]!==void 0&&U(g)&&g.set(a[p],!1)}}mount(t){this.current=t,fi.set(t,this),this.projection&&!this.projection.instance&&this.projection.mount(t),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((s,n)=>this.bindToMotionValue(n,s)),eo.current||Ru(),this.shouldReduceMotion=this.reducedMotionConfig==="never"?!1:this.reducedMotionConfig==="always"?!0:is.current,this.parent&&this.parent.children.add(this),this.update(this.props,this.presenceContext)}unmount(){fi.delete(this.current),this.projection&&this.projection.unmount(),ie(this.notifyUpdate),ie(this.render),this.valueSubscriptions.forEach(t=>t()),this.valueSubscriptions.clear(),this.removeFromVariantTree&&this.removeFromVariantTree(),this.parent&&this.parent.children.delete(this);for(const t in this.events)this.events[t].clear();for(const t in this.features){const s=this.features[t];s&&(s.unmount(),s.isMounted=!1)}this.current=null}bindToMotionValue(t,s){this.valueSubscriptions.has(t)&&this.valueSubscriptions.get(t)();const n=ye.has(t),i=s.on("change",l=>{this.latestValues[t]=l,this.props.onUpdate&&M.preRender(this.notifyUpdate),n&&this.projection&&(this.projection.isTransformDirty=!0)}),o=s.on("renderRequest",this.scheduleRender);let r;window.MotionCheckAppearSync&&(r=window.MotionCheckAppearSync(this,t,s)),this.valueSubscriptions.set(t,()=>{i(),o(),r&&r(),s.owner&&s.stop()})}sortNodePosition(t){return!this.current||!this.sortInstanceNodePosition||this.type!==t.type?0:this.sortInstanceNodePosition(this.current,t.current)}updateFeatures(){let t="animation";for(t in Pe){const s=Pe[t];if(!s)continue;const{isEnabled:n,Feature:i}=s;if(!this.features[t]&&i&&n(this.props)&&(this.features[t]=new i(this)),this.features[t]){const o=this.features[t];o.isMounted?o.update():(o.mount(),o.isMounted=!0)}}}triggerBuild(){this.build(this.renderState,this.latestValues,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):I()}getStaticValue(t){return this.latestValues[t]}setStaticValue(t,s){this.latestValues[t]=s}update(t,s){(t.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=t,this.prevPresenceContext=this.presenceContext,this.presenceContext=s;for(let n=0;n<pi.length;n++){const i=pi[n];this.propEventSubscriptions[i]&&(this.propEventSubscriptions[i](),delete this.propEventSubscriptions[i]);const o="on"+i,r=t[o];r&&(this.propEventSubscriptions[i]=this.on(i,r))}this.prevMotionValues=Lu(this,this.scrapeMotionValuesFromProps(t,this.prevProps,this),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue(),this.onUpdate&&this.onUpdate(this)}getProps(){return this.props}getVariant(t){return this.props.variants?this.props.variants[t]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}addVariantChild(t){const s=this.getClosestVariantNode();if(s)return s.variantChildren&&s.variantChildren.add(t),()=>s.variantChildren.delete(t)}addValue(t,s){const n=this.values.get(t);s!==n&&(n&&this.removeValue(t),this.bindToMotionValue(t,s),this.values.set(t,s),this.latestValues[t]=s.get())}removeValue(t){this.values.delete(t);const s=this.valueSubscriptions.get(t);s&&(s(),this.valueSubscriptions.delete(t)),delete this.latestValues[t],this.removeValueFromRenderState(t,this.renderState)}hasValue(t){return this.values.has(t)}getValue(t,s){if(this.props.values&&this.props.values[t])return this.props.values[t];let n=this.values.get(t);return n===void 0&&s!==void 0&&(n=Ue(s===null?void 0:s,{owner:this}),this.addValue(t,n)),n}readValue(t,s){var n;let i=this.latestValues[t]!==void 0||!this.current?this.latestValues[t]:(n=this.getBaseTargetFromProps(this.props,t))!==null&&n!==void 0?n:this.readValueFromInstance(this.current,t,this.options);return i!=null&&(typeof i=="string"&&(Sr(i)||mr(i))?i=parseFloat(i):!Vu(i)&&re.test(s)&&(i=vr(t,s)),this.setBaseTarget(t,U(i)?i.get():i)),U(i)?i.get():i}setBaseTarget(t,s){this.baseTarget[t]=s}getBaseTarget(t){var s;const{initial:n}=this.props;let i;if(typeof n=="string"||typeof n=="object"){const r=gs(this.props,n,(s=this.presenceContext)===null||s===void 0?void 0:s.custom);r&&(i=r[t])}if(n&&i!==void 0)return i;const o=this.getBaseTargetFromProps(this.props,t);return o!==void 0&&!U(o)?o:this.initialValues[t]!==void 0&&i===void 0?void 0:this.baseTarget[t]}on(t,s){return this.events[t]||(this.events[t]=new Es),this.events[t].add(s)}notify(t,...s){this.events[t]&&this.events[t].notify(...s)}}class to extends Iu{constructor(){super(...arguments),this.KeyframeResolver=Pr}sortInstanceNodePosition(t,s){return t.compareDocumentPosition(s)&2?1:-1}getBaseTargetFromProps(t,s){return t.style?t.style[s]:void 0}removeValueFromRenderState(t,{vars:s,style:n}){delete s[t],delete n[t]}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:t}=this.props;U(t)&&(this.childSubscription=t.on("change",s=>{this.current&&(this.current.textContent=`${s}`)}))}}function Fu(e){return window.getComputedStyle(e)}class Bu extends to{constructor(){super(...arguments),this.type="html",this.renderInstance=Ui}readValueFromInstance(t,s){if(ye.has(s)){const n=Ls(s);return n&&n.default||0}else{const n=Fu(t),i=(Oi(s)?n.getPropertyValue(s):n[s])||0;return typeof i=="string"?i.trim():i}}measureInstanceViewportBox(t,{transformPagePoint:s}){return zr(t,s)}build(t,s,n){vs(t,s,n.transformTemplate)}scrapeMotionValuesFromProps(t,s,n){return Ts(t,s,n)}}class Ou extends to{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1,this.measureInstanceViewportBox=I}getBaseTargetFromProps(t,s){return t[s]}readValueFromInstance(t,s){if(ye.has(s)){const n=Ls(s);return n&&n.default||0}return s=zi.has(s)?s:ms(s),t.getAttribute(s)}scrapeMotionValuesFromProps(t,s,n){return qi(t,s,n)}build(t,s,n){bs(t,s,this.isSVGTag,n.transformTemplate)}renderInstance(t,s,n,i){Wi(t,s,n,i)}mount(t){this.isSVGTag=Ss(t.tagName),super.mount(t)}}const _u=(e,t)=>ps(e)?new Ou(t):new Bu(t,{allowProjection:e!==f.Fragment}),$u=ha({...uc,...Eu,...vu,...Mu},_u),A=ko($u),rs=[{id:"first-job",label:"First Job",emoji:"",ageRange:"2225",description:"Starting your career journey",order:1,color:"#0066B2"},{id:"marriage",label:"Marriage",emoji:"",ageRange:"2530",description:"Building a life together",order:2,color:"#0066B2"},{id:"parenthood",label:"Parenthood",emoji:"",ageRange:"3035",description:"Welcoming a new life",order:3,color:"#0066B2"},{id:"mid-career",label:"Mid-Career",emoji:"",ageRange:"3550",description:"Peak responsibilities",order:4,color:"#0066B2"},{id:"retirement",label:"Approaching Retirement",emoji:"",ageRange:"5560",description:"Securing your golden years",order:5,color:"#0066B2"}],Uu=5,se={LOW:{max:35,label:"Low Protection",color:"#EF4444"},MEDIUM:{max:70,label:"Medium Protection",color:"#FF8C00"},HIGH:{label:"High Protection",color:"#10B981"}},Ot=50,gi={EXPOSED:"exposed"},R={INTRO:"intro",STAGE_SELECTION:"stage_selection",RACING:"racing",EVENT_FEEDBACK:"event_feedback",FINISH:"finish",SCORE_REVEAL:"score_reveal",TIMELINE:"timeline",CONVERSION:"conversion",LEAD_FORM:"lead_form",THANK_YOU:"thank_you"},zu=[{id:"fj-01",stage:"first-job",title:"Sudden Medical Emergency",severity:"high",description:"A critical health issue requires immediate hospitalisation. Medical bills are piling up fast.",impactProtected:10,impactExposed:-10},{id:"fj-02",stage:"first-job",title:"Bike Accident Injury",severity:"high",description:"A road accident leaves you with injuries needing weeks of recovery and treatment costs.",impactProtected:10,impactExposed:-10},{id:"fj-03",stage:"first-job",title:"Laptop Theft",severity:"medium",description:"Your work laptop and valuables are stolen from your paying guest accommodation.",impactProtected:10,impactExposed:-10},{id:"fj-04",stage:"first-job",title:"Job Loss Without Savings",severity:"high",description:"Your startup downsizes unexpectedly and you have no emergency fund to fall back on.",impactProtected:10,impactExposed:-10},{id:"fj-05",stage:"first-job",title:"First Health Insurance Decision",severity:"medium",description:"Your employer offers health insurance opt-in. Should you invest in comprehensive coverage?",impactProtected:10,impactExposed:-10},{id:"mr-01",stage:"marriage",title:"Spouse Critical Illness",severity:"high",description:"Your spouse is diagnosed with a critical illness requiring expensive long-term treatment.",impactProtected:10,impactExposed:-10},{id:"mr-02",stage:"marriage",title:"Home Loan EMI Default Risk",severity:"high",description:"An unexpected job change puts your home loan EMI payments at risk for several months.",impactProtected:10,impactExposed:-10},{id:"mr-03",stage:"marriage",title:"Wedding Expense Overrun",severity:"medium",description:"Wedding expenses significantly exceeded the budget, eating into your emergency fund.",impactProtected:10,impactExposed:-10},{id:"mr-04",stage:"marriage",title:"Joint Financial Planning Gap",severity:"medium",description:"Neither spouse has life insurance. A sudden event could leave the other financially stranded.",impactProtected:10,impactExposed:-10},{id:"mr-05",stage:"marriage",title:"Rental Deposit Loss",severity:"medium",description:"Your landlord refuses to return your deposit after property damage disputes.",impactProtected:10,impactExposed:-10},{id:"ph-01",stage:"parenthood",title:"Child Born with Complications",severity:"high",description:"Your newborn requires NICU care and specialised treatment for several weeks.",impactProtected:10,impactExposed:-10},{id:"ph-02",stage:"parenthood",title:"Daycare & Education Cost Spike",severity:"medium",description:"Premium childcare and education costs have doubled, straining your monthly budget.",impactProtected:10,impactExposed:-10},{id:"ph-03",stage:"parenthood",title:"Parental Emergency Travel",severity:"medium",description:"An elderly parent falls ill in another city, requiring urgent travel and medical support.",impactProtected:10,impactExposed:-10},{id:"ph-04",stage:"parenthood",title:"Income Loss During Maternity",severity:"high",description:"Reduced household income during parental leave creates a significant financial gap.",impactProtected:10,impactExposed:-10},{id:"ph-05",stage:"parenthood",title:"Child Education Fund Crisis",severity:"high",description:"Rising school fees and inflation threaten the education fund you planned for your child.",impactProtected:10,impactExposed:-10},{id:"mc-01",stage:"mid-career",title:"Disability from Workplace Injury",severity:"high",description:"A serious workplace accident causes partial disability, impacting your ability to earn.",impactProtected:10,impactExposed:-10},{id:"mc-02",stage:"mid-career",title:"Business Venture Failure",severity:"high",description:"A side business investment crashes, wiping out a significant portion of your savings.",impactProtected:10,impactExposed:-10},{id:"mc-03",stage:"mid-career",title:"Child's Higher Education Abroad",severity:"medium",description:"Your child gets admission overseas. The tuition and living costs are substantial.",impactProtected:10,impactExposed:-10},{id:"mc-04",stage:"mid-career",title:"Lifestyle Disease Diagnosis",severity:"high",description:"You are diagnosed with a chronic lifestyle disease requiring lifelong treatment and medication.",impactProtected:10,impactExposed:-10},{id:"mc-05",stage:"mid-career",title:"Market Crash Hits Investments",severity:"medium",description:"A sudden market downturn drastically reduces your portfolio value close to a milestone goal.",impactProtected:10,impactExposed:-10},{id:"rt-01",stage:"retirement",title:"Outliving Your Savings",severity:"high",description:"Medical advances mean you may live 15+ years post-retirement. Will your corpus last?",impactProtected:10,impactExposed:-10},{id:"rt-02",stage:"retirement",title:"Inflation Eroding Pension",severity:"high",description:"Rising inflation has significantly reduced the purchasing power of your pension income.",impactProtected:10,impactExposed:-10},{id:"rt-03",stage:"retirement",title:"Elderly Care Dependency",severity:"medium",description:"Your own need for full-time assisted care creates recurring monthly expenses.",impactProtected:10,impactExposed:-10},{id:"rt-04",stage:"retirement",title:"Unexpected Major Surgery",severity:"high",description:"A complex surgery costs significantly more than your health insurance covers.",impactProtected:10,impactExposed:-10},{id:"rt-05",stage:"retirement",title:"Legacy & Estate Planning Gap",severity:"medium",description:"Without proper estate planning, your assets may not pass smoothly to your dependents.",impactProtected:10,impactExposed:-10}];function so(e){return Math.max(0,Math.min(100,e))}function Wu(e,t,s,n){let i=t;if(s&&n>1){const r=1+(n-1)*.25;i=Math.round(t*r)}return{newScore:so(e+i),appliedDelta:i}}function Gu(e){return e<=se.LOW.max?{label:se.LOW.label,color:se.LOW.color,key:"LOW"}:e<=se.MEDIUM.max?{label:se.MEDIUM.label,color:se.MEDIUM.color,key:"MEDIUM"}:{label:se.HIGH.label,color:se.HIGH.color,key:"HIGH"}}function qu(e){return so(Math.round(e))}function Ku(e){return e.filter(t=>t.decision==="exposed").map(t=>`${t.stage}: ${t.title} (${t.severity})`)}function Hu(e){return e==="high"}function Yu(e){return{high:"Critical",medium:"Significant",moderate:"Moderate"}[e]??"Unknown"}function Xu(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,e=>{const t=Math.random()*16|0;return(e==="x"?t:t&3|8).toString(16)})}function Zu(e){const t=[...e];for(let s=t.length-1;s>0;s--){const n=Math.floor(Math.random()*(s+1));[t[s],t[n]]=[t[n],t[s]]}return t}function Ju(e){const t=zu.filter(n=>n.stage===e);return Zu(t).slice(0,Uu)}function Qu(){const[e,t]=f.useState(""),[s,n]=f.useState(R.INTRO),[i,o]=f.useState(Ot),[r,l]=f.useState(null),[a,u]=f.useState([]),[d,h]=f.useState(0),[m,p]=f.useState([]),[g,x]=f.useState(null),[v,b]=f.useState(!1),[y,S]=f.useState(""),C=f.useRef(0),w=f.useMemo(()=>a[d]??null,[a,d]),k=f.useMemo(()=>d>=a.length-1,[d,a.length]),P=f.useMemo(()=>Gu(i),[i]),T=f.useMemo(()=>qu(i),[i]),E=f.useMemo(()=>Ku(m),[m]),L=f.useMemo(()=>a.length===0?0:Math.round((d+1)/a.length*100),[d,a.length]),_=f.useMemo(()=>r?rs.find(W=>W.id===r)??null:null,[r]),le=f.useCallback(()=>{n(R.STAGE_SELECTION)},[]),ce=f.useCallback(W=>{const Xe=Xu(),Tt=Ju(W);t(Xe),l(W),u(Tt),h(0),o(Ot),p([]),x(null),S(""),C.current=0,n(R.RACING),b(!0)},[]),K=f.useCallback(W=>{if(!w)return;b(!1);const Xe=W===gi.EXPOSED,Tt=Xe?w.impactExposed:w.impactProtected,Zs=Xe&&Hu(w.severity);Zs?C.current+=1:C.current=0;const{newScore:Js,appliedDelta:Qs}=Wu(i,Tt,Zs,C.current),jt=rs.find(Ct=>Ct.id===w.stage),fo={eventId:w.id,stage:(jt==null?void 0:jt.label)??w.stage,stageId:w.stage,title:w.title,severity:w.severity,decision:W,scoreDelta:Qs,scoreAfter:Js};o(Js),p(Ct=>[...Ct,fo]),x({decision:W,delta:Qs,severity:w.severity,title:w.title}),n(R.EVENT_FEEDBACK)},[w,i]),Ye=f.useCallback(()=>{K(gi.EXPOSED)},[K]),Ee=f.useCallback(()=>{if(k){b(!1),n(R.FINISH);return}h(W=>W+1),x(null),n(R.RACING),b(!0)},[k]),F=f.useCallback(()=>{n(R.SCORE_REVEAL)},[]),z=f.useCallback(()=>{n(R.TIMELINE)},[]),ue=f.useCallback(()=>{n(R.CONVERSION)},[]),de=f.useCallback(()=>{n(R.LEAD_FORM)},[]),St=f.useCallback(W=>{W&&S(W),n(R.THANK_YOU)},[]),mo=f.useCallback(()=>{t(""),n(R.INTRO),o(Ot),l(null),u([]),h(0),p([]),x(null),b(!1),S(""),C.current=0},[]);return{gameId:e,phase:s,score:i,selectedStage:r,selectedStageData:_,currentEvent:w,currentEventIndex:d,eventQueue:a,timeline:m,lastFeedback:g,isTimerActive:v,isLastEvent:k,protectionCategory:P,finalScore:T,riskGaps:E,progressPercent:L,userName:y,startGame:le,selectStage:ce,makeDecision:K,handleTimerExpire:Ye,advanceToNextEvent:Ee,showScoreReveal:F,showTimeline:z,showConversion:ue,showLeadForm:de,showThankYou:St,restartGame:mo}}function ed(e,t,s){const[n,i]=f.useState(e),o=f.useRef(null),r=f.useRef(t),l=f.useRef(!1);f.useEffect(()=>{r.current=t},[t]);const a=f.useCallback(()=>{o.current&&(clearInterval(o.current),o.current=null)},[]),u=f.useCallback(()=>{a()},[a]),d=f.useCallback(()=>{a(),l.current=!1,i(e)},[a,e]);f.useEffect(()=>{if(!s){a();return}return l.current=!1,i(e),o.current=setInterval(()=>{i(m=>{const p=m-1;return p<=0&&!l.current?(l.current=!0,clearInterval(o.current),o.current=null,setTimeout(()=>{var g;(g=r.current)==null||g.call(r)},0),0):p})},1e3),a},[s,e,a]),f.useEffect(()=>a,[a]);const h=n/e*100;return{timeLeft:n,resetTimer:d,stopTimer:u,progress:h}}var _t={exports:{}},$t,xi;function td(){if(xi)return $t;xi=1;var e="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED";return $t=e,$t}var Ut,yi;function sd(){if(yi)return Ut;yi=1;var e=td();function t(){}function s(){}return s.resetWarningCache=t,Ut=function(){function n(r,l,a,u,d,h){if(h!==e){var m=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw m.name="Invariant Violation",m}}n.isRequired=n;function i(){return n}var o={array:n,bigint:n,bool:n,func:n,number:n,object:n,string:n,symbol:n,any:n,arrayOf:i,element:n,elementType:n,instanceOf:i,node:n,objectOf:i,oneOf:i,oneOfType:i,shape:i,exact:i,checkPropTypes:s,resetWarningCache:t};return o.PropTypes=o,o},Ut}var vi;function nd(){return vi||(vi=1,_t.exports=sd()()),_t.exports}var id=nd();const j=po(id),_s=f.memo(function({children:t,className:s="",fullScreen:n=!1}){return c.jsxs("div",{className:`race-container ${s}`,children:[!n&&c.jsxs("div",{className:"absolute inset-0 overflow-hidden pointer-events-none","aria-hidden":"true",children:[c.jsx("div",{className:"absolute top-[10%] left-[15%] w-[20rem] h-[20rem] bg-bajaj-blue/5 rounded-full blur-3xl"}),c.jsx("div",{className:"absolute bottom-[15%] right-[10%] w-[25rem] h-[25rem] bg-bajaj-orange/5 rounded-full blur-3xl"}),c.jsx("div",{className:"absolute top-[50%] left-[60%] w-[15rem] h-[15rem] bg-race-accent/5 rounded-full blur-3xl"})]}),c.jsx("div",{className:`relative z-10 w-full min-h-[100dvh] flex flex-col ${n?"":"max-w-md mx-auto px-4 py-6 items-center justify-center"}`,children:t})]})});_s.displayName="RaceLayout";_s.propTypes={children:j.node.isRequired,className:j.string,fullScreen:j.bool};/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rd=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),no=(...e)=>e.filter((t,s,n)=>!!t&&t.trim()!==""&&n.indexOf(t)===s).join(" ").trim();/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var od={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ad=f.forwardRef(({color:e="currentColor",size:t=24,strokeWidth:s=2,absoluteStrokeWidth:n,className:i="",children:o,iconNode:r,...l},a)=>f.createElement("svg",{ref:a,...od,width:t,height:t,stroke:e,strokeWidth:n?Number(s)*24/Number(t):s,className:no("lucide",i),...l},[...r.map(([u,d])=>f.createElement(u,d)),...Array.isArray(o)?o:[o]]));/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const B=(e,t)=>{const s=f.forwardRef(({className:n,...i},o)=>f.createElement(ad,{ref:o,iconNode:t,className:no(`lucide-${rd(e)}`,n),...i}));return s.displayName=`${e}`,s};/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bi=B("CalendarClock",[["path",{d:"M21 7.5V6a2 2 0 0 0-2-2H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h3.5",key:"1osxxc"}],["path",{d:"M16 2v4",key:"4m81vk"}],["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M3 10h5",key:"r794hk"}],["path",{d:"M17.5 17.5 16 16.3V14",key:"akvzfd"}],["circle",{cx:"16",cy:"16",r:"6",key:"qoo3c4"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $s=B("Calendar",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wi=B("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ld=B("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const io=B("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cd=B("ChevronUp",[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Si=B("CircleAlert",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ud=B("CircleCheck",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dd=B("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Us=B("LoaderCircle",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vt=B("Phone",[["path",{d:"M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z",key:"foiqr5"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hd=B("RefreshCw",[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const md=B("Send",[["path",{d:"M14.536 21.686a.5.5 0 0 0 .937-.024l6.5-19a.496.496 0 0 0-.635-.635l-19 6.5a.5.5 0 0 0-.024.937l7.93 3.18a2 2 0 0 1 1.112 1.11z",key:"1ffxy3"}],["path",{d:"m21.854 2.147-10.94 10.939",key:"12cjpa"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ro=B("Share2",[["circle",{cx:"18",cy:"5",r:"3",key:"gq8acd"}],["circle",{cx:"6",cy:"12",r:"3",key:"w7nqdw"}],["circle",{cx:"18",cy:"19",r:"3",key:"1xt0gg"}],["line",{x1:"8.59",x2:"15.42",y1:"13.51",y2:"17.49",key:"47mynk"}],["line",{x1:"15.41",x2:"8.59",y1:"6.51",y2:"10.49",key:"1n3mei"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ht=B("Shield",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fd=B("TriangleAlert",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const oo=B("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const it=B("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]),Ti={primary:"race-button-primary",secondary:"race-button-secondary",protected:"race-button-protected",exposed:"race-button-exposed",ghost:"inline-flex items-center justify-center gap-2 rounded-xl px-6 py-3 font-semibold text-race-muted hover:text-white transition-colors duration-300 focus:outline-none"},ji={sm:"text-[0.875rem] px-4 py-2",md:"text-[1rem] px-6 py-3",lg:"text-[1.125rem] px-8 py-4"},oe=f.memo(f.forwardRef(function({variant:t="primary",size:s="md",children:n,className:i="",disabled:o=!1,...r},l){const a=Ti[t]||Ti.primary,u=ji[s]||ji.md;return c.jsx("button",{ref:l,className:`${a} ${u} ${i} ${o?"opacity-50 cursor-not-allowed":""}`,disabled:o,...r,children:n})}));oe.displayName="Button";oe.propTypes={variant:j.oneOf(["primary","secondary","protected","exposed","ghost"]),size:j.oneOf(["sm","md","lg"]),children:j.node.isRequired,className:j.string,disabled:j.bool};const pd=""+new URL("Life-Milestone-Race-pCfLj2nX.png",import.meta.url).href,gd=async e=>{const t="https://webpartner.bajajallianz.com/EurekaWSNew/service/pushData",s={name:e.name,age:e.age||25,mobile_no:e.mobile_no,email_id:e.email_id||"",goal_name:e.goal_name||"1",param1:null,param2:null,param3:null,param4:e.param4||null,param5:"",param13:"",param18:"",param19:e.param19||"",param20:"",param23:e.param23||"",param24:e.param24||"",param25:e.param25||"",param26:e.param26||"",param36:"manual",summary_dtls:e.summary_dtls||"Booking Request",p_user_eml:e.email_id||"",p_data_source:e.p_data_source||"WS_ETOUCH_BUY",p_curr_page_path:"https://www.bajajlifeinsurance.com/etouch/",p_ip_addsr:"",p_remark_url:"",prodId:e.prodId||"345",medium:"",contact_number:"",content:"",campaign:"",source:"",keyword:"",flag:"",parameter:"",name1:"",param28:"",param29:"",param30:""};try{const n=await fetch(t,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(s)});let i={success:!0};try{const o=await n.json();o&&typeof o=="object"&&(i={success:!0,...o})}catch{}return i}catch(n){return console.error("LMS Submission Error:",n),{success:!0}}},xd={hidden:{opacity:0},visible:{opacity:1,transition:{staggerChildren:.15,delayChildren:.2}}},yd={hidden:{opacity:0,y:30},visible:{opacity:1,y:0,transition:{duration:.5,ease:"easeOut"}}},zs=f.memo(function({onStart:t}){const[s,n]=f.useState(!1),[i,o]=f.useState(""),[r,l]=f.useState(""),[a,u]=f.useState(!1),[d,h]=f.useState(!1),[m,p]=f.useState({}),[g,x]=f.useState(!1),[v,b]=f.useState(()=>sessionStorage.getItem("lastSubmittedPhone")||null),[y,S]=f.useState(null);f.useEffect(()=>{v&&sessionStorage.setItem("lastSubmittedPhone",v)},[v]),f.useEffect(()=>{if(y){const T=setTimeout(()=>S(null),3e3);return()=>clearTimeout(T)}},[y]);const C=(T,E="error")=>{S({message:T,type:E})},w=()=>{n(!0)},k=()=>{const T={};return i.trim()?/^[A-Za-z\s]+$/.test(i.trim())||(T.name="Name must contain only letters"):T.name="Please enter your name",r?/^[6-9]\d{9}$/.test(r)||(T.phone="Enter valid 10-digit mobile number"):T.phone="Please enter mobile number",p(T),Object.keys(T).length===0},P=async T=>{if(T.preventDefault(),!!k()&&a){if(v===r){C("You have already registered.","info"),setTimeout(()=>{t(i.trim())},1e3);return}x(!0);try{const E=new Date;E.setDate(E.getDate()+1);const L=E.toISOString().split("T")[0],_={name:i.trim(),mobile_no:r,param4:L,param19:"09:00 AM",summary_dtls:"Game Lead Generator",p_data_source:"LIFE_MILESTONE_RACE_LEAD"};(await gd(_)).success?(b(r),t(i.trim())):C("Submission failed. Please try again.")}catch(E){console.error(E),C("Something went wrong.")}finally{x(!1)}}};return c.jsxs(A.div,{className:"w-full flex-1 min-h-[100dvh] flex flex-col items-center justify-end pb-6 pt-8 relative overflow-hidden",variants:xd,initial:"hidden",animate:"visible",style:{backgroundImage:`url(${pd})`,backgroundSize:"100% 100%",backgroundPosition:"center",backgroundRepeat:"no-repeat"},children:[c.jsx(A.div,{variants:yd,className:"w-full max-w-xs z-10",children:c.jsxs(oe,{variant:"primary",size:"lg",className:"w-full shadow-lg text-white btn-5",onClick:w,id:"btn-start-race",style:{background:"linear-gradient(135deg, #FF6600 0%, #F59E0B 100%)"},children:["Start the Race",c.jsx(io,{size:20})]})}),c.jsx(je,{children:s&&c.jsx(A.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"absolute inset-0 z-[100] flex items-center justify-center p-4 bg-slate-900/80 backdrop-blur-md",onClick:()=>n(!1),children:c.jsxs(A.div,{initial:{scale:.9,opacity:0,y:20},animate:{scale:1,opacity:1,y:0},exit:{scale:.9,opacity:0,y:20},transition:{type:"spring",damping:25,stiffness:300},onClick:T=>T.stopPropagation(),className:"relative bg-white shadow-2xl w-full max-w-[320px] min-[375px]:max-w-[340px] p-5 min-[375px]:p-6 border-[4px] sm:border-[6px] border-[#0066B2] rounded-2xl",children:[c.jsx("button",{onClick:()=>n(!1),className:"absolute top-4 right-4 text-slate-400 hover:text-slate-600 transition-colors",children:c.jsx(it,{className:"w-5 h-5 min-[375px]:w-6 min-[375px]:h-6"})}),c.jsxs("div",{className:"text-center mb-4 min-[375px]:mb-6",children:[c.jsx("div",{className:"w-14 h-14 min-[375px]:w-16 min-[375px]:h-16 sm:w-20 sm:h-20 bg-[#0066B2] flex items-center justify-center mx-auto mb-3 min-[375px]:mb-4 shadow-xl border-4 border-white rounded-full",children:c.jsx("span",{className:"text-2xl min-[375px]:text-3xl sm:text-4xl",children:""})}),c.jsx("h2",{className:"text-[#0066B2] text-lg min-[375px]:text-xl sm:text-2xl font-black mb-1",children:"Welcome!"}),c.jsx("p",{className:"text-slate-500 font-bold text-xs min-[375px]:text-sm sm:text-base",children:"Enter your details to start."})]}),c.jsxs("form",{onSubmit:P,className:"space-y-3 min-[375px]:space-y-4",children:[c.jsxs("div",{className:"space-y-1 min-[375px]:space-y-1.5 text-left",children:[c.jsx("label",{className:"block text-slate-700 text-[9px] min-[375px]:text-[10px] sm:text-xs font-black uppercase tracking-widest ml-1",htmlFor:"userName",children:"Your Name"}),c.jsx("input",{id:"userName",type:"text",value:i,onChange:T=>{const E=T.target.value;/^[A-Za-z\s]*$/.test(E)&&(o(E),m.name&&p({...m,name:""}))},placeholder:"Full Name",className:`w-full px-3 py-2.5 min-[375px]:px-4 min-[375px]:py-3 sm:py-3.5 border-4 ${m.name?"border-red-400 focus:border-red-500 bg-red-50":"border-slate-100 focus:border-[#0066B2]"} focus:outline-none focus:ring-4 focus:ring-[#0066B2]/10 text-slate-800 font-bold text-sm min-[375px]:text-base sm:text-lg transition-all rounded-lg`,autoFocus:!0}),m.name&&c.jsx("p",{className:"text-red-500 text-[9px] min-[375px]:text-[10px] font-black uppercase tracking-wider ml-1",children:m.name})]}),c.jsxs("div",{className:"space-y-1 min-[375px]:space-y-1.5 text-left",children:[c.jsx("label",{className:"block text-slate-700 text-[9px] min-[375px]:text-[10px] sm:text-xs font-black uppercase tracking-widest ml-1",htmlFor:"phone",children:"Mobile Number"}),c.jsx("input",{id:"phone",type:"tel",maxLength:10,value:r,onChange:T=>{const E=T.target.value.replace(/\D/g,"").slice(0,10);(E===""||/^[6-9]/.test(E))&&(l(E),m.phone&&p({...m,phone:""}))},placeholder:"9876543210",className:`w-full px-3 py-2.5 min-[375px]:px-4 min-[375px]:py-3 sm:py-3.5 border-4 ${m.phone?"border-red-400 focus:border-red-500 bg-red-50":"border-slate-100 focus:border-[#0066B2]"} focus:outline-none focus:ring-4 focus:ring-[#0066B2]/10 text-slate-800 font-bold text-sm min-[375px]:text-base sm:text-lg transition-all rounded-lg`}),m.phone&&c.jsx("p",{className:"text-red-500 text-[9px] min-[375px]:text-[10px] font-black uppercase tracking-wider ml-1",children:m.phone})]}),c.jsxs("div",{className:"flex items-start space-x-3 pt-1 text-left",children:[c.jsxs("div",{className:"relative flex items-center",children:[c.jsx("input",{id:"terms",type:"checkbox",checked:a,onChange:T=>u(T.target.checked),className:"peer h-5 w-5 cursor-pointer appearance-none rounded border-2 border-slate-300 bg-slate-50 transition-all checked:border-[#0066B2] checked:bg-[#0066B2] hover:border-[#0066B2]"}),c.jsx(wi,{className:"pointer-events-none absolute left-1/2 top-1/2 h-3.5 w-3.5 -translate-x-1/2 -translate-y-1/2 text-white opacity-0 transition-opacity peer-checked:opacity-100",strokeWidth:4})]}),c.jsxs("label",{htmlFor:"terms",className:"text-[10px] sm:text-xs font-semibold text-slate-500 leading-tight select-none",children:["I agree to the ",c.jsx("button",{type:"button",onClick:()=>h(!0),className:"text-[#0066B2] hover:underline font-bold inline",children:"Term & condition"})," and Acknowledge the Privacy Policy."]})]}),c.jsx("button",{type:"submit",disabled:!i.trim()||r.length!==10||!a||g,className:"w-full py-2.5 min-[375px]:py-3 sm:py-4 rounded-xl font-game text-sm sm:text-lg tracking-widest disabled:opacity-50 disabled:cursor-not-allowed flex justify-center items-center gap-2 text-white uppercase font-bold transition-all duration-300 shadow-lg hover:shadow-xl hover:scale-[1.02] active:scale-[0.98]",style:{background:"linear-gradient(135deg, #0066B2 0%, #3B82F6 100%)",boxShadow:"0 4px 15px rgba(0, 102, 178, 0.3)"},children:g?c.jsxs(c.Fragment,{children:[c.jsx(Us,{className:"w-5 h-5 animate-spin"}),c.jsx("span",{children:"Starting..."})]}):"Let's Go!"})]})]})})}),c.jsx(je,{children:d&&c.jsx(A.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"absolute inset-0 z-[110] flex items-center justify-center p-4 bg-slate-900/90 backdrop-blur-md",onClick:()=>h(!1),children:c.jsxs(A.div,{initial:{scale:.9,opacity:0},animate:{scale:1,opacity:1},exit:{scale:.9,opacity:0},onClick:T=>T.stopPropagation(),className:"bg-white p-6 rounded-2xl max-w-md w-full shadow-2xl border-4 border-[#0066B2] relative text-left",children:[c.jsx("button",{onClick:()=>h(!1),className:"absolute top-3 right-3 p-1 text-slate-400 hover:text-slate-600 transition-colors",children:c.jsx(it,{className:"w-5 h-5"})}),c.jsx("h3",{className:"text-[#0066B2] font-black text-lg uppercase mb-4 tracking-tight",children:"Terms & Conditions"}),c.jsxs("div",{className:"text-xs sm:text-sm text-slate-600 space-y-3 font-medium leading-relaxed max-h-[60vh] overflow-y-auto pr-2 custom-scrollbar",children:[c.jsx("p",{children:"I hereby authorize Bajaj Life Insurance Limited to call me on the contact number made available by me on the website with a specific request to call back. I further declare that, irrespective of my contact number being registered on National Customer Preference Register (NCPR) or on National Do Not Call Registry (NDNC), any call made, SMS or WhatsApp sent in response to my request shall not be construed as an Unsolicited Commercial Communication even though the content of the call may be for the purposes of explaining various insurance products and services or solicitation and procurement of insurance business."}),c.jsx("p",{children:"Please refer to BALIC Privacy Policy."})]}),c.jsx("button",{onClick:()=>{h(!1),u(!0)},className:"w-full mt-6 py-3 bg-[#0066B2] text-white font-bold rounded-lg hover:bg-blue-700 transition-colors text-sm uppercase tracking-wider",children:"I Agree"})]})})}),c.jsx(je,{children:y&&c.jsxs(A.div,{initial:{opacity:0,y:50},animate:{opacity:1,y:0},exit:{opacity:0,y:20},className:`fixed bottom-8 left-1/2 -translate-x-1/2 z-[120] px-6 py-3 rounded-xl shadow-2xl flex items-center gap-3 ${y.type==="error"?"bg-red-500 text-white":"bg-blue-600 text-white"}`,children:[y.type==="error"?c.jsx(it,{size:20,className:"stroke-[3]"}):c.jsx(wi,{size:20,className:"stroke-[3]"}),c.jsx("span",{className:"font-bold text-sm",children:y.message})]})})]})});zs.displayName="IntroScreen";zs.propTypes={onStart:j.func.isRequired};const vd=["justify-start","justify-end","justify-center","justify-start","justify-end"],bd={hidden:{opacity:0},visible:{opacity:1,transition:{staggerChildren:.1,delayChildren:.15}}},wd={hidden:{opacity:0,y:30,scale:.9},visible:{opacity:1,y:0,scale:1,transition:{duration:.4,ease:[.175,.885,.32,1.275]}}},Ws=f.memo(function({onSelectStage:t}){const[s,n]=f.useState(null),i=f.useCallback(l=>{n(l)},[]),o=f.useCallback(()=>{s&&t(s)},[s,t]),r=f.useMemo(()=>c.jsx("svg",{className:"absolute top-0 left-0 w-full h-full z-[1] pointer-events-none",fill:"none",viewBox:"0 0 430 600",xmlns:"http://www.w3.org/2000/svg",preserveAspectRatio:"none",children:c.jsx("path",{d:"M100 60 C 250 100, 350 150, 300 220 C 250 290, 100 320, 150 400 C 200 480, 350 500, 300 580",stroke:"white",strokeWidth:"8",strokeDasharray:"16 16",strokeLinecap:"round",opacity:"0.4"})}),[]);return c.jsxs("div",{className:"fixed inset-0 map-bg flex flex-col overflow-hidden",children:[c.jsx("div",{className:"ray-burst","aria-hidden":"true"}),c.jsx("div",{className:"absolute top-[5rem] -left-[2.5rem] w-[8rem] h-[8rem] bg-white/30 blur-2xl rounded-full z-0","aria-hidden":"true"}),c.jsx("div",{className:"absolute bottom-[10rem] -right-[2.5rem] w-[12rem] h-[12rem] bg-yellow-200/20 blur-2xl rounded-full z-0","aria-hidden":"true"}),c.jsxs(A.div,{className:"px-4 pt-8 sm:pt-12 pb-1 sm:pb-2 text-center z-20 flex-shrink-0",initial:{opacity:0,y:-20},animate:{opacity:1,y:0},transition:{duration:.5,ease:"easeOut"},children:[c.jsx("h1",{className:"font-game text-[1.75rem] sm:text-[2.25rem] text-white drop-shadow-lg tracking-wide leading-tight mb-0.5 uppercase",children:"Select Your Stage"}),c.jsx("p",{className:"text-blue-900 font-game-body font-black text-[0.625rem] sm:text-[0.6875rem] uppercase tracking-widest opacity-80",children:"Tap a milestone to start the race"})]}),c.jsxs(A.div,{className:"flex-1 relative z-10 px-4 sm:px-6 py-2 flex flex-col justify-evenly gap-0 max-w-[26.875rem] mx-auto w-full min-h-0",variants:bd,initial:"hidden",animate:"visible",children:[r,rs.map((l,a)=>{const u=s===l.id,d=vd[a]||"justify-center";return c.jsx(A.div,{variants:wd,className:`flex ${d} w-full z-10`,children:c.jsxs("div",{className:`glossy-card ${u?"glossy-selected":""} w-[8.5rem] sm:w-[10rem] p-2 sm:p-3 rounded-2xl sm:rounded-3xl flex flex-col items-center gap-1 sm:gap-1.5 cursor-pointer`,onClick:()=>i(l.id),role:"radio","aria-checked":u,"aria-label":`${l.label} (${l.ageRange})`,tabIndex:0,onKeyDown:h=>{(h.key==="Enter"||h.key===" ")&&(h.preventDefault(),i(l.id))},children:[c.jsxs("div",{className:"relative",children:[c.jsx("span",{className:"text-[2.25rem] sm:text-[3rem] drop-shadow-md block leading-none",children:l.emoji}),c.jsx("div",{className:`absolute -top-1 -right-1 w-[1.125rem] h-[1.125rem] sm:w-[1.375rem] sm:h-[1.375rem] rounded-full border-2 border-white flex items-center justify-center transition-colors duration-200 ${u?"bg-green-500":"bg-slate-200"}`,children:c.jsx("span",{className:`material-symbols-outlined text-[0.625rem] sm:text-[0.75rem] font-bold ${u?"text-white":"text-slate-400"}`,children:u?"check":"radio_button_unchecked"})})]}),c.jsx("span",{className:"font-game-body font-black text-[0.6875rem] sm:text-[0.8125rem] uppercase tracking-tight text-slate-800 text-center leading-tight",children:l.label}),c.jsx("span",{className:"text-[0.5625rem] sm:text-[0.6875rem] font-semibold text-slate-500 tracking-wider",children:l.ageRange})]})},l.id)})]}),c.jsx(A.div,{className:"px-4 sm:px-6 pb-6 pt-2 z-20 max-w-[26.875rem] mx-auto w-full flex-shrink-0",initial:{opacity:0,y:30},animate:{opacity:1,y:0},transition:{delay:.7,duration:.5,ease:"easeOut"},children:c.jsxs("button",{className:"chunky-btn w-full bg-blue-600 hover:bg-blue-500 text-white font-game text-[1.25rem] sm:text-[1.5rem] py-4 sm:py-5 rounded-2xl sm:rounded-3xl flex items-center justify-center gap-2 active:scale-95 disabled:hover:bg-blue-600",onClick:o,disabled:!s,id:"btn-confirm-stage",children:["BEGIN RACE",c.jsx("span",{className:"material-symbols-outlined text-[1.5rem] sm:text-[1.875rem]",children:"chevron_right"})]})})]})});Ws.displayName="StageSelection";Ws.propTypes={onSelectStage:j.func.isRequired};const Sd={hidden:{opacity:0,y:40,scale:.95},visible:{opacity:1,y:0,scale:1,transition:{duration:.5,ease:[.16,1,.3,1]}},exit:{opacity:0,y:-30,scale:.95,transition:{duration:.3,ease:"easeIn"}}},Ci={high:{label:"High Impact",bg:"#FF8C00",text:"#fff",glow:"rgba(255, 140, 0, 0.4)",Icon:fd},medium:{label:"Medium Impact",bg:"rgba(0, 102, 178, 0.15)",text:"#0066B2",glow:"none",Icon:ht},moderate:{label:"Medium Impact",bg:"rgba(0, 102, 178, 0.15)",text:"#0066B2",glow:"none",Icon:ht}},Gs=f.memo(function({event:t}){if(!t)return null;const s=Ci[t.severity]||Ci.medium,n=s.Icon;return c.jsx(A.div,{variants:Sd,initial:"hidden",animate:"visible",exit:"exit",className:"w-full",children:c.jsxs("div",{className:"w-full text-center space-y-4 flex flex-col items-center justify-center h-full",style:{background:"rgba(255, 255, 255, 0.92)",backdropFilter:"blur(16px)",borderRadius:"28px",border:"4px solid #FFFFFF",padding:"2rem 1.75rem",boxShadow:"0 12px 40px rgba(0, 74, 128, 0.1), 0 4px 12px rgba(0, 0, 0, 0.05)"},children:[c.jsx("div",{className:"flex justify-center mb-1",children:c.jsxs("span",{className:"inline-flex items-center gap-1.5 px-4 py-1.5 rounded-full text-[0.85rem] font-black uppercase tracking-wider transform transition-transform",style:{backgroundColor:s.bg,color:s.text,boxShadow:s.glow!=="none"?`0 0 16px ${s.glow}`:void 0},children:[c.jsx(n,{size:16,strokeWidth:3}),s.label]})}),c.jsx("h3",{className:"font-black text-blue-950 leading-tight drop-shadow-sm",style:{fontSize:"1.75rem",letterSpacing:"-0.03em"},children:t.title}),c.jsx("p",{className:"text-blue-900/80 leading-relaxed max-w-[280px] mx-auto font-medium",style:{fontSize:"1.125rem"},children:t.description})]})},t.id)});Gs.displayName="EventCard";Gs.propTypes={event:j.shape({id:j.string.isRequired,title:j.string.isRequired,description:j.string.isRequired,severity:j.oneOf(["high","medium","moderate"]).isRequired,stage:j.string.isRequired})};const qs=f.memo(function({score:t,maxScore:s=100}){const n=f.useMemo(()=>Math.max(0,Math.min(100,t/s*100)),[t,s]),{label:i,pillColor:o}=f.useMemo(()=>n<=35?{label:"Low",pillColor:"#EF4444"}:n<=70?{label:"Medium",pillColor:"#FF8C00"}:{label:"High",pillColor:"#10B981"},[n]);return c.jsxs("div",{className:"w-full space-y-2",children:[c.jsxs("div",{className:"flex items-end justify-between px-1",children:[c.jsx("span",{className:"text-[0.9rem] font-bold text-blue-950/90 tracking-wide uppercase mb-0.5",children:"Protection Score"}),c.jsxs("div",{className:"flex items-center gap-2",children:[c.jsx("span",{className:"text-[0.7rem] font-black uppercase tracking-wider px-2.5 py-0.5 rounded-full transition-colors duration-300",style:{backgroundColor:o,color:"#fff",boxShadow:`0 0 10px ${o}60`},children:i}),c.jsx("span",{className:"text-[1.75rem] font-black text-blue-950 leading-none tabular-nums tracking-tight",children:Math.round(t)})]})]}),c.jsx("div",{className:"relative w-full rounded-full overflow-hidden",style:{height:"16px",backgroundColor:"rgba(255, 255, 255, 0.5)",border:"1px solid rgba(255, 255, 255, 0.6)",boxShadow:"inset 0 2px 4px rgba(0,0,0,0.05)"},children:c.jsx("div",{className:"h-full rounded-full transition-all duration-700 ease-out relative",style:{width:`${Math.max(5,n)}%`,background:"linear-gradient(90deg, #FF8C00 0%, #FF6600 100%)",boxShadow:"0 0 12px rgba(255, 140, 0, 0.4)"},children:c.jsx("div",{className:"absolute top-0 right-0 w-full h-full bg-gradient-to-b from-white/30 to-transparent"})})})]})});qs.displayName="ProtectionMeter";qs.propTypes={score:j.number.isRequired,maxScore:j.number};const Ks=f.memo(function({onDecision:t,timeLeft:s,timerProgress:n,disabled:i=!1}){const o=s<=2;return f.useMemo(()=>(s<=2||s<=3,"#FF8C00"),[s]),c.jsxs("div",{className:"w-full flex flex-col items-center gap-3",children:[c.jsx("div",{className:"flex flex-col items-center gap-1 -mb-2 z-10",children:c.jsx(A.div,{className:"relative flex items-center justify-center bg-white rounded-full p-1",style:{boxShadow:"0 8px 24px rgba(0,0,0,0.1)"},children:c.jsxs(A.div,{className:"relative flex items-center justify-center rounded-full",style:{width:76,height:76,background:"linear-gradient(135deg, #FF8C00 0%, #FF6600 100%)",boxShadow:"inset 0 4px 6px rgba(0,0,0,0.1)"},animate:o?{scale:[1,1.05,1]}:{scale:1},transition:{duration:.5,repeat:o?1/0:0},children:[c.jsx("span",{className:"text-[2.25rem] font-black text-white leading-none drop-shadow-md",children:s}),c.jsxs("svg",{className:"absolute inset-0 w-full h-full -rotate-90",viewBox:"0 0 76 76",children:[c.jsx("circle",{cx:"38",cy:"38",r:"34",fill:"none",stroke:"rgba(255,255,255,0.2)",strokeWidth:"4"}),c.jsx("circle",{cx:"38",cy:"38",r:"34",fill:"none",stroke:"#fff",strokeWidth:"4",strokeDasharray:`${2*Math.PI*34}`,strokeDashoffset:`${2*Math.PI*34*(1-n/100)}`,strokeLinecap:"round",className:"transition-all duration-1000 ease-linear"})]})]})})}),c.jsxs("div",{className:"w-full flex flex-col gap-3 pt-2",children:[c.jsx(A.button,{onClick:()=>t("protected"),disabled:i,whileTap:{scale:.98},className:"w-full flex items-center justify-center gap-2 font-black text-white text-[1.2rem] uppercase tracking-wider transition-all duration-200 focus:outline-none disabled:opacity-50 disabled:cursor-not-allowed",style:{height:"66px",borderRadius:"20px",background:"linear-gradient(135deg, #FF8C00 0%, #FF6600 100%)",boxShadow:"0 8px 20px rgba(255, 140, 0, 0.3), 0 4px 0 #CC5500",textShadow:"0 1px 2px rgba(0,0,0,0.1)"},id:"btn-protected",children:" I'm Protected"}),c.jsx(A.button,{onClick:()=>t("exposed"),disabled:i,whileTap:{scale:.98},className:"w-full flex items-center justify-center gap-2 font-black text-white text-[1.2rem] uppercase tracking-wider transition-all duration-200 focus:outline-none disabled:opacity-50 disabled:cursor-not-allowed",style:{height:"66px",borderRadius:"20px",background:"linear-gradient(135deg, #0066B2 0%, #3B82F6 100%)",border:"2px solid rgba(255, 255, 255, 0.2)",boxShadow:"0 8px 20px rgba(0, 74, 128, 0.25), 0 4px 0 #004A80",textShadow:"0 1px 2px rgba(0,0,0,0.1)"},id:"btn-exposed",children:" I'm Exposed"})]})]})});Ks.displayName="DecisionButtons";Ks.propTypes={onDecision:j.func.isRequired,timeLeft:j.number.isRequired,timerProgress:j.number.isRequired,disabled:j.bool};const bt=f.memo(function({score:t}){const s=f.useRef(null),[n,i]=f.useState(0),o=isNaN(t)?0:t,r=Math.min(Math.max(Number(o),0),100);return f.useEffect(()=>{const l=s.current;if(!l)return;const a=l.getContext("2d");let u;const d=.75*Math.PI,h=1.5*Math.PI;let m=0;const p=r,g=()=>{const x=p-m;Math.abs(x)>.1?m+=x*.05:m=p;const v=Math.round(m);isNaN(v)||i(v);const b=l.width,y=l.height,S=b/2,C=y/2,w=100;a.clearRect(0,0,b,y),a.beginPath(),a.arc(S,C,w,d,d+h),a.lineWidth=12,a.strokeStyle="rgba(0, 102, 178, 0.1)",a.lineCap="round",a.stroke();const k=a.createLinearGradient(S-w,0,S+w,0);k.addColorStop(0,"#004A80"),k.addColorStop(.5,"#0066B2"),k.addColorStop(1,"#3B82F6");const P=d+m/100*h;a.beginPath(),a.arc(S,C,w,d,P),a.lineWidth=12,a.strokeStyle=k,a.lineCap="round",a.stroke(),a.save(),a.translate(S,C);const T=40,E=h/T;for(let ce=0;ce<=T;ce++){const K=d+ce*E,Ye=K<=P,Ee=w-20,F=w-15,z=Math.cos(K)*Ee,ue=Math.sin(K)*Ee,de=Math.cos(K)*F,St=Math.sin(K)*F;a.beginPath(),a.moveTo(z,ue),a.lineTo(de,St),a.lineWidth=1.5,a.strokeStyle=Ye?"rgba(0, 102, 178, 0.6)":"rgba(0, 102, 178, 0.1)",a.stroke()}a.restore();const L=w-8,_=S+Math.cos(P)*L,le=C+Math.sin(P)*L;a.shadowBlur=18,a.shadowColor="rgba(255, 140, 0, 0.6)",a.beginPath(),a.moveTo(S,C),a.lineTo(_,le),a.lineWidth=3,a.strokeStyle="#FF8C00",a.lineCap="round",a.stroke(),a.shadowBlur=0,a.beginPath(),a.arc(S,C,6,0,2*Math.PI),a.fillStyle="#FF8C00",a.fill(),a.beginPath(),a.arc(S,C,3,0,2*Math.PI),a.fillStyle="#0B1120",a.fill(),Math.abs(x)>.1&&(u=requestAnimationFrame(g))};return g(),()=>cancelAnimationFrame(u)},[r]),c.jsxs("div",{className:"relative flex flex-col items-center justify-center select-none w-full max-w-[280px] mx-auto",children:[c.jsx("canvas",{ref:s,width:280,height:240,className:"w-full h-auto drop-shadow-2xl"}),c.jsx("div",{className:"absolute top-[60%] left-1/2 -translate-x-1/2 -translate-y-1/2 text-center pointer-events-none",children:c.jsxs("div",{className:"flex flex-col items-center",children:[c.jsx("span",{className:"text-[2.5rem] font-black text-blue-950 leading-none tracking-tight",style:{textShadow:"0 0 20px rgba(0, 102, 178, 0.2)"},children:n}),c.jsx("span",{className:"text-[0.75rem] font-bold text-blue-900/60 uppercase tracking-widest mt-1",children:"Score / 100"})]})})]})});bt.displayName="Speedometer";bt.propTypes={score:j.number.isRequired};const ao=f.memo(function({score:t,category:s,onViewTimeline:n}){const i=(s==null?void 0:s.color)||"#3B82F6";return c.jsxs(A.div,{className:"w-full flex flex-col items-center gap-8",initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},transition:{duration:.6,ease:"easeOut"},children:[c.jsxs(A.div,{className:"text-center space-y-2",initial:{opacity:0,y:-20},animate:{opacity:1,y:0},transition:{delay:.3,duration:.5},children:[c.jsx("h2",{className:"race-heading text-[2rem] text-blue-950",children:"Race Complete!"}),c.jsx("p",{className:"text-blue-900/60 text-[0.875rem] uppercase tracking-widest font-bold",children:"Your Life Protection Score"})]}),c.jsx("div",{className:"relative w-full flex justify-center",children:c.jsx(bt,{score:t})}),c.jsxs(A.div,{className:"text-center space-y-4",initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:1,duration:.5},children:[c.jsx("span",{className:"inline-flex items-center px-6 py-2 rounded-full text-[1rem] font-black uppercase tracking-wider",style:{backgroundColor:`${i}15`,color:i,border:`2px solid ${i}40`,boxShadow:`0 0 20px ${i}20`},children:s==null?void 0:s.label}),c.jsx("p",{className:"text-blue-900/70 text-[0.875rem] max-w-xs mx-auto leading-relaxed",children:"Life moves faster than planning. Let's strengthen your protection."})]}),c.jsx(A.div,{className:"w-full max-w-xs",initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:1.4,duration:.5},children:c.jsxs(oe,{variant:"primary",size:"lg",className:"w-full py-4 text-[1rem] font-bold uppercase tracking-wider",onClick:n,id:"btn-view-timeline",children:["View Your Journey",c.jsx(io,{size:20})]})})]})});ao.displayName="SpeedometerScore";ao.propTypes={score:j.number.isRequired,category:j.shape({label:j.string,color:j.string,key:j.string}).isRequired,onViewTimeline:j.func.isRequired};const wt=f.memo(function({children:t,className:s="",padding:n="md",glow:i=!1,...o}){const r={none:"",sm:"p-4",md:"p-6",lg:"p-8"};return c.jsx("div",{className:`race-glass-card ${r[n]||r.md} ${i?"glow-blue":""} ${s}`,...o,children:t})});wt.displayName="Card";wt.propTypes={children:j.node.isRequired,className:j.string,padding:j.oneOf(["none","sm","md","lg"]),glow:j.bool};const Td={hidden:{opacity:0},visible:{opacity:1,transition:{staggerChildren:.06,delayChildren:.1}}},Pi={hidden:{opacity:0,x:-20},visible:{opacity:1,x:0,transition:{duration:.35,ease:"easeOut"}}},Hs=f.memo(function({timeline:t,onContinue:s}){const n=t.filter(o=>o.decision==="protected").length,i=t.filter(o=>o.decision==="exposed").length;return c.jsxs(A.div,{className:"w-full flex flex-col gap-5 max-h-[85dvh] overflow-y-auto",variants:Td,initial:"hidden",animate:"visible",children:[c.jsxs(A.div,{variants:Pi,className:"text-center space-y-2",children:[c.jsx("h2",{className:"race-subheading text-[1.5rem] text-blue-950",children:"Your Life Journey"}),c.jsxs("div",{className:"flex justify-center gap-4",children:[c.jsxs("span",{className:"inline-flex items-center gap-1 text-[0.8125rem] text-race-success",children:[c.jsx(ht,{size:14})," ",n," Protected"]}),c.jsxs("span",{className:"inline-flex items-center gap-1 text-[0.8125rem] text-race-danger",children:[c.jsx(Si,{size:14})," ",i," Exposed"]})]})]}),c.jsxs("div",{className:"relative space-y-3 pl-8",children:[c.jsx("div",{className:"absolute left-3 top-2 bottom-2 w-0.5 bg-gradient-to-b from-race-accent/40 via-race-border to-race-accent/40"}),t.map((o,r)=>{const l=o.decision==="protected";return c.jsxs(A.div,{variants:Pi,className:"relative",children:[c.jsx("div",{className:`absolute -left-5 top-4 w-3 h-3 rounded-full border-2 ${l?"bg-race-success border-race-success":"bg-race-danger border-race-danger"}`}),c.jsx(wt,{padding:"sm",className:"ml-1",children:c.jsxs("div",{className:"flex items-start justify-between gap-2",children:[c.jsxs("div",{className:"flex-1 min-w-0",children:[c.jsxs("div",{className:"flex items-center gap-2 flex-wrap",children:[c.jsx("span",{className:"text-[0.75rem] text-blue-900/60 font-medium",children:o.stage}),c.jsx("span",{className:`severity-badge severity-${o.severity}`,children:Yu(o.severity)})]}),c.jsx("p",{className:"text-[0.875rem] font-medium text-blue-950 mt-1",children:o.title})]}),c.jsxs("div",{className:"flex-shrink-0 flex flex-col items-end gap-1",children:[c.jsx("span",{className:`inline-flex items-center gap-1 text-[0.6875rem] font-semibold rounded-full px-2 py-0.5 ${l?"bg-green-500/20 text-green-400":"bg-red-500/20 text-red-400"}`,children:l?c.jsxs(c.Fragment,{children:[c.jsx(ht,{size:10})," Safe"]}):c.jsxs(c.Fragment,{children:[c.jsx(Si,{size:10})," Exposed"]})}),c.jsxs("span",{className:`text-[0.75rem] font-bold ${o.scoreDelta>=0?"text-green-400":"text-red-400"}`,children:[o.scoreDelta>0?"+":"",o.scoreDelta]})]})]})})]},`${o.eventId}-${r}`)})]})]})});Hs.displayName="TimelineSummary";Hs.propTypes={timeline:j.arrayOf(j.shape({eventId:j.string.isRequired,stage:j.string.isRequired,title:j.string.isRequired,severity:j.string.isRequired,decision:j.string.isRequired,scoreDelta:j.number.isRequired})).isRequired,onContinue:j.func.isRequired};const jd={hidden:{opacity:0},visible:{opacity:1,transition:{staggerChildren:.12,delayChildren:.1}}},Re={hidden:{opacity:0,y:20},visible:{opacity:1,y:0,transition:{duration:.4,ease:"easeOut"}}},lo=f.memo(function({score:t,category:s,onBookSlot:n}){const i=async()=>{const r=`I scored ${t}/100 (${s==null?void 0:s.label}) on the Life Milestone Race! Check your Life Goals readiness and discover how prepared you are for your future. ${window.location.href}`,l={title:"My Life Protection Score",text:r,url:window.location.href};if(navigator.share)try{await navigator.share(l)}catch(a){console.log("Error sharing:",a)}else navigator.clipboard.writeText(r),alert("Result copied to clipboard!")},o=()=>{window.location.href="tel:18002099999"};return c.jsxs(A.div,{className:"w-full flex flex-col items-center gap-8",variants:jd,initial:"hidden",animate:"visible",children:[c.jsxs(A.div,{variants:Re,className:"text-center space-y-3",children:[c.jsx("h2",{className:"race-heading text-[1.75rem] text-blue-950",children:"Strengthen Your Protection"}),c.jsxs("div",{className:"flex flex-col items-center",children:[c.jsx("span",{className:"text-[0.75rem] font-black uppercase tracking-[0.2em] text-blue-900/40 mb-1",children:"Your Score"}),c.jsxs("span",{className:"text-[2.5rem] font-black",style:{color:(s==null?void 0:s.color)||"#3B82F6",textShadow:`0 0 20px ${s==null?void 0:s.color}40`},children:[t,"/100"]})]})]}),c.jsxs(A.div,{variants:Re,className:"w-full bg-bajaj-blue/10 border border-bajaj-blue/30 rounded-2xl p-5 backdrop-blur-md relative overflow-hidden group",children:[c.jsx("div",{className:"absolute top-0 left-0 w-1 h-full bg-bajaj-blue"}),c.jsx("p",{className:"text-[1rem] text-blue-900/90 leading-relaxed font-medium",children:"To know more about insurance and savings products, please connect with our relationship manager."}),c.jsx("div",{className:"absolute -right-4 -bottom-4 opacity-5 group-hover:opacity-10 transition-opacity",children:c.jsx(bi,{size:100})})]}),c.jsxs("div",{className:"w-full flex flex-col gap-4",children:[c.jsx(A.div,{variants:Re,children:c.jsxs(oe,{variant:"primary",size:"lg",className:"w-full py-4 bg-orange-500 hover:bg-orange-600 border-orange-400 shadow-[0_4px_0_rgb(194,65,12)] active:shadow-none active:translate-y-1 transition-all",onClick:i,id:"btn-share",children:[c.jsx(ro,{size:20}),"Share Your Result"]})}),c.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[c.jsx(A.div,{variants:Re,children:c.jsxs("button",{onClick:o,className:"w-full h-14 bg-bajaj-blue/10 hover:bg-bajaj-blue/20 border-2 border-bajaj-blue/30 text-bajaj-blue font-bold rounded-xl flex items-center justify-center gap-2 transition-all active:scale-95",id:"btn-call",children:[c.jsx(vt,{size:18}),"Call Now"]})}),c.jsx(A.div,{variants:Re,children:c.jsxs("button",{onClick:n,className:"w-full h-14 bg-amber-500 hover:bg-amber-600 text-white font-bold rounded-xl flex items-center justify-center gap-2 shadow-[0_4px_0_rgb(180,83,9)] active:shadow-none active:translate-y-1 transition-all",id:"btn-book-slot",children:[c.jsx(bi,{size:18}),"Book Slot"]})})]})]})]})});lo.displayName="ConversionScreen";lo.propTypes={score:j.number.isRequired,category:j.shape({label:j.string,color:j.string}),onBookSlot:j.func.isRequired};async function co(e){return console.log("[Dev] Mocking submitLead API call:",e),new Promise(t=>{setTimeout(()=>{t({success:!0,message:"Lead submitted successfully (Mock)",data:{leadId:"mock-lead-"+Date.now()}})},1e3)})}const Cd=["9:00 AM - 11:00 AM","11:00 AM - 1:00 PM","2:00 PM - 4:00 PM","4:00 PM - 6:00 PM","6:00 PM - 8:00 PM"],Pd={hidden:{opacity:0},visible:{opacity:1,transition:{staggerChildren:.08,delayChildren:.1}}},me={hidden:{opacity:0,y:15},visible:{opacity:1,y:0,transition:{duration:.35}}},uo=f.memo(function({gameId:t,score:s,category:n,riskGaps:i,onSuccess:o}){const[r,l]=f.useState({name:"",mobile:"",preferredDate:"",preferredSlot:""}),[a,u]=f.useState({}),[d,h]=f.useState(!1),[m,p]=f.useState(""),g=f.useCallback(()=>{const y={};return r.name.trim()||(y.name="Name is required"),/^[6-9]\d{9}$/.test(r.mobile)||(y.mobile="Enter a valid 10-digit mobile number"),r.preferredDate||(y.preferredDate="Select a date"),r.preferredSlot||(y.preferredSlot="Select a time slot"),u(y),Object.keys(y).length===0},[r]),x=f.useCallback((y,S)=>{l(C=>({...C,[y]:S})),u(C=>({...C,[y]:""})),p("")},[]),v=f.useCallback(async y=>{if(y.preventDefault(),!!g()){h(!0),p("");try{await co({gameId:t,name:r.name.trim(),mobile:r.mobile.trim(),preferredDate:r.preferredDate,preferredSlot:r.preferredSlot,lifeProtectionScore:s,protectionCategory:(n==null?void 0:n.label)||"",riskSummary:i}),o==null||o()}catch{p("Something went wrong. Please try again.")}finally{h(!1)}}},[r,g,t,s,n,i,o]),b=new Date().toISOString().split("T")[0];return c.jsxs(A.form,{className:"w-full flex flex-col gap-4",variants:Pd,initial:"hidden",animate:"visible",onSubmit:v,noValidate:!0,children:[c.jsxs(A.div,{variants:me,className:"text-center space-y-1",children:[c.jsx("h2",{className:"race-subheading text-[1.375rem] text-blue-950",children:"Book Your Slot"}),c.jsx("p",{className:"text-blue-900/60 text-[0.8125rem]",children:"A protection expert will call you at your preferred time"})]}),c.jsxs(A.div,{variants:me,children:[c.jsx("label",{htmlFor:"lead-name",className:"block text-[0.8125rem] font-medium text-slate-600 mb-1.5",children:"Full Name"}),c.jsxs("div",{className:"relative",children:[c.jsx(oo,{size:16,className:"absolute left-3 top-1/2 -translate-y-1/2 text-race-muted"}),c.jsx("input",{id:"lead-name",type:"text",value:r.name,onChange:y=>x("name",y.target.value),placeholder:"Enter your name",className:`w-full pl-10 pr-4 py-3 rounded-xl bg-white/60 border text-slate-900 placeholder-slate-500 text-[0.9375rem] transition-colors focus:outline-none focus:ring-2 focus:ring-race-accent ${a.name?"border-red-500":"border-white focus:border-race-accent"}`,autoComplete:"name"})]}),a.name&&c.jsx("p",{className:"text-red-400 text-[0.75rem] mt-1",children:a.name})]}),c.jsxs(A.div,{variants:me,children:[c.jsx("label",{htmlFor:"lead-mobile",className:"block text-[0.8125rem] font-medium text-slate-600 mb-1.5",children:"Mobile Number"}),c.jsxs("div",{className:"relative",children:[c.jsx(vt,{size:16,className:"absolute left-3 top-1/2 -translate-y-1/2 text-race-muted"}),c.jsx("input",{id:"lead-mobile",type:"tel",value:r.mobile,onChange:y=>x("mobile",y.target.value.replace(/\D/g,"").slice(0,10)),placeholder:"10-digit mobile number",className:`w-full pl-10 pr-4 py-3 rounded-xl bg-white/60 border text-slate-900 placeholder-slate-500 text-[0.9375rem] transition-colors focus:outline-none focus:ring-2 focus:ring-race-accent ${a.mobile?"border-red-500":"border-white focus:border-race-accent"}`,inputMode:"numeric",autoComplete:"tel"})]}),a.mobile&&c.jsx("p",{className:"text-red-400 text-[0.75rem] mt-1",children:a.mobile})]}),c.jsxs(A.div,{variants:me,children:[c.jsx("label",{htmlFor:"lead-date",className:"block text-[0.8125rem] font-medium text-slate-600 mb-1.5",children:"Preferred Date"}),c.jsxs("div",{className:"relative",children:[c.jsx($s,{size:16,className:"absolute left-3 top-1/2 -translate-y-1/2 text-race-muted"}),c.jsx("input",{id:"lead-date",type:"date",value:r.preferredDate,onChange:y=>x("preferredDate",y.target.value),min:b,className:`w-full pl-10 pr-4 py-3 rounded-xl bg-white/60 border text-slate-900 text-[0.9375rem] transition-colors focus:outline-none focus:ring-2 focus:ring-race-accent [color-scheme:light] ${a.preferredDate?"border-red-500":"border-white focus:border-race-accent"}`})]}),a.preferredDate&&c.jsx("p",{className:"text-red-400 text-[0.75rem] mt-1",children:a.preferredDate})]}),c.jsxs(A.div,{variants:me,children:[c.jsxs("label",{className:"block text-[0.8125rem] font-medium text-slate-600 mb-1.5",children:[c.jsx(dd,{size:14,className:"inline mr-1"}),"Preferred Time Slot"]}),c.jsx("div",{className:"flex flex-wrap gap-2",children:Cd.map(y=>c.jsx("button",{type:"button",onClick:()=>x("preferredSlot",y),className:`px-3 py-2 rounded-lg text-[0.75rem] font-medium transition-all duration-200 ${r.preferredSlot===y?"bg-race-accent text-white border border-race-accent":"bg-white/60 text-slate-600 border border-white hover:border-race-accent/50"}`,children:y},y))}),a.preferredSlot&&c.jsx("p",{className:"text-red-400 text-[0.75rem] mt-1",children:a.preferredSlot})]}),m&&c.jsx(A.div,{variants:me,children:c.jsx(wt,{padding:"sm",className:"border-red-500/30 bg-red-500/10",children:c.jsx("p",{className:"text-red-400 text-[0.8125rem] text-center",children:m})})}),c.jsx(A.div,{variants:me,children:c.jsx(oe,{variant:"primary",size:"lg",className:"w-full",disabled:d,type:"submit",id:"btn-submit-lead",children:d?c.jsxs(c.Fragment,{children:[c.jsx(Us,{size:20,className:"animate-spin"}),"Submitting..."]}):c.jsxs(c.Fragment,{children:[c.jsx(md,{size:18}),"Confirm Booking"]})})})]})});uo.displayName="LeadForm";uo.propTypes={gameId:j.string.isRequired,score:j.number.isRequired,category:j.shape({label:j.string,color:j.string}),riskGaps:j.arrayOf(j.string),onSuccess:j.func};const ho=f.memo(function({name:t}){return c.jsx(A.div,{initial:{opacity:0},animate:{opacity:1},className:"w-full flex flex-col items-center justify-center text-center p-6 space-y-8",children:c.jsxs("div",{className:"space-y-6",children:[c.jsx(A.div,{initial:{scale:0},animate:{scale:1},transition:{type:"spring",damping:12,stiffness:200},className:"w-20 h-20 bg-green-500/20 rounded-full flex items-center justify-center mx-auto mb-4 border border-green-500/30",children:c.jsx("span",{className:"text-[2.5rem]",children:""})}),c.jsx("h1",{className:"race-heading text-[2.5rem] sm:text-[3rem] text-blue-950 tracking-widest leading-tight uppercase",children:"THANK YOU!"}),t&&c.jsx("h2",{className:"race-subheading text-[1.5rem] text-bajaj-blue uppercase tracking-wider",children:t}),c.jsx("div",{className:"h-px w-24 bg-white/20 mx-auto my-6"}),c.jsxs("div",{className:"space-y-3",children:[c.jsx("p",{className:"text-blue-900/90 text-[1.125rem] font-medium tracking-wide",children:"Thank you for sharing your details."}),c.jsx("p",{className:"text-blue-900/60 text-[0.9375rem] font-normal leading-relaxed max-w-xs mx-auto",children:"Our Relationship Manager will reach out to you shortly to help secure your milestones."})]})]})})});ho.displayName="ThankYou";ho.propTypes={name:j.string};const kd=["9:00 AM - 11:00 AM","11:00 AM - 1:00 PM","2:00 PM - 4:00 PM","4:00 PM - 6:00 PM","6:00 PM - 8:00 PM"],Ys=f.memo(function({isOpen:t,onClose:s,gameId:n,score:i,category:o,riskGaps:r,initialName:l,initialMobile:a}){const[u,d]=f.useState({name:l||"",mobile:a||"",preferredDate:"",preferredSlot:"",consent:!0}),[h,m]=f.useState({}),[p,g]=f.useState(!1),[x,v]=f.useState(""),[b,y]=f.useState(!1);f.useEffect(()=>{t&&(d(P=>({...P,name:l||P.name,mobile:a||P.mobile})),y(!1),v(""),m({}))},[t,l,a]);const S=f.useCallback(()=>{const P={};return u.name.trim()||(P.name="Name is required"),/^[6-9]\d{9}$/.test(u.mobile)||(P.mobile="Enter a valid 10-digit mobile number"),u.preferredDate||(P.preferredDate="Select a date"),u.preferredSlot||(P.preferredSlot="Select a time slot"),u.consent||(P.consent="Required"),m(P),Object.keys(P).length===0},[u]),C=f.useCallback((P,T)=>{d(E=>({...E,[P]:T})),m(E=>({...E,[P]:""})),v("")},[]),w=f.useCallback(async P=>{if(P.preventDefault(),!!S()){g(!0),v("");try{await co({gameId:n,name:u.name.trim(),mobile:u.mobile.trim(),preferredDate:u.preferredDate,preferredSlot:u.preferredSlot,lifeProtectionScore:i,protectionCategory:(o==null?void 0:o.label)||"",riskSummary:r}),y(!0)}catch{v("Something went wrong. Please try again.")}finally{g(!1)}}},[u,S,n,i,o,r]),k=new Date().toISOString().split("T")[0];return t?c.jsx(je,{children:t&&c.jsx(c.Fragment,{children:c.jsx(A.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},onClick:s,className:"fixed inset-0 bg-black/60 backdrop-blur-sm z-50 flex items-center justify-center p-4",children:c.jsxs(A.div,{initial:{opacity:0,scale:.95,y:20},animate:{opacity:1,scale:1,y:0},exit:{opacity:0,scale:.95,y:20},onClick:P=>P.stopPropagation(),className:"bg-white w-full max-w-sm rounded-2xl shadow-xl overflow-hidden relative max-h-[90vh] flex flex-col",children:[c.jsx("button",{onClick:s,className:"absolute right-3 top-3 p-2 bg-slate-100 rounded-full hover:bg-slate-200 transition-colors z-10 text-slate-500",children:c.jsx(it,{size:20})}),b?c.jsxs("div",{className:"p-8 flex flex-col items-center justify-center text-center space-y-6 flex-1",children:[c.jsx("div",{className:"w-20 h-20 bg-green-100 rounded-full flex items-center justify-center text-green-600 mb-2",children:c.jsx(ud,{size:40,strokeWidth:3})}),c.jsxs("div",{children:[c.jsx("h3",{className:"text-2xl font-black text-slate-800 mb-2",children:"Booking Confirmed!"}),c.jsx("p",{className:"text-slate-500",children:"Our relationship manager will contact you shortly at your preferred time."})]}),c.jsx(oe,{onClick:s,className:"w-full bg-slate-900 text-white",children:"Close"})]}):c.jsxs(c.Fragment,{children:[c.jsxs("div",{className:"bg-slate-50 p-5 border-b border-slate-100",children:[c.jsx("h3",{className:"text-lg font-black text-slate-800",children:"Book a Callback"}),c.jsx("p",{className:"text-slate-500 text-xs mt-1",children:"Secure your future with expert guidance"})]}),c.jsx("div",{className:"p-5 overflow-y-auto custom-scrollbar",children:c.jsxs("form",{onSubmit:w,className:"space-y-4",children:[c.jsxs("div",{className:"space-y-1.5",children:[c.jsx("label",{className:"text-xs font-bold text-slate-700 uppercase tracking-wider",children:"Name"}),c.jsxs("div",{className:"relative",children:[c.jsx(oo,{size:16,className:"absolute left-3 top-1/2 -translate-y-1/2 text-slate-400"}),c.jsx("input",{type:"text",value:u.name,onChange:P=>C("name",P.target.value),placeholder:"Enter your name",className:`w-full pl-10 pr-4 py-3 rounded-xl bg-slate-50 border text-slate-900 text-sm focus:outline-none focus:ring-2 focus:ring-blue-500 transition-all ${h.name?"border-red-500":"border-slate-200"}`})]}),h.name&&c.jsx("p",{className:"text-red-500 text-xs",children:h.name})]}),c.jsxs("div",{className:"space-y-1.5",children:[c.jsx("label",{className:"text-xs font-bold text-slate-700 uppercase tracking-wider",children:"Mobile Number"}),c.jsxs("div",{className:"relative",children:[c.jsx(vt,{size:16,className:"absolute left-3 top-1/2 -translate-y-1/2 text-slate-400"}),c.jsx("input",{type:"tel",value:u.mobile,onChange:P=>C("mobile",P.target.value.replace(/\D/g,"").slice(0,10)),placeholder:"10-digit number",className:`w-full pl-10 pr-4 py-3 rounded-xl bg-slate-50 border text-slate-900 text-sm focus:outline-none focus:ring-2 focus:ring-blue-500 transition-all ${h.mobile?"border-red-500":"border-slate-200"}`})]}),h.mobile&&c.jsx("p",{className:"text-red-500 text-xs",children:h.mobile})]}),c.jsxs("div",{className:"space-y-1.5",children:[c.jsx("label",{className:"text-xs font-bold text-slate-700 uppercase tracking-wider",children:"Preferred Date"}),c.jsxs("div",{className:"relative",children:[c.jsx($s,{size:16,className:"absolute left-3 top-1/2 -translate-y-1/2 text-slate-400"}),c.jsx("input",{type:"date",min:k,value:u.preferredDate,onChange:P=>C("preferredDate",P.target.value),className:`w-full pl-10 pr-4 py-3 rounded-xl bg-slate-50 border text-slate-900 text-sm focus:outline-none focus:ring-2 focus:ring-blue-500 transition-all ${h.preferredDate?"border-red-500":"border-slate-200"}`})]}),h.preferredDate&&c.jsx("p",{className:"text-red-500 text-xs",children:h.preferredDate})]}),c.jsxs("div",{className:"space-y-1.5",children:[c.jsx("label",{className:"text-xs font-bold text-slate-700 uppercase tracking-wider",children:"Time Slot"}),c.jsx("div",{className:"grid grid-cols-2 gap-2",children:kd.map(P=>c.jsx("button",{type:"button",onClick:()=>C("preferredSlot",P),className:`px-2 py-2 rounded-lg text-xs font-medium border transition-all ${u.preferredSlot===P?"bg-blue-600 text-white border-blue-600 shadow-md":"bg-white text-slate-600 border-slate-200 hover:border-slate-300"}`,children:P},P))}),h.preferredSlot&&c.jsx("p",{className:"text-red-500 text-xs",children:h.preferredSlot})]}),c.jsxs("label",{className:"flex items-start gap-2 cursor-pointer mt-2",children:[c.jsx("input",{type:"checkbox",checked:u.consent,onChange:P=>C("consent",P.target.checked),className:"mt-0.5"}),c.jsx("span",{className:"text-xs text-slate-500 leading-tight",children:"I authorize Bajaj Allianz Life Insurance to contact me. This overrides my NDNC registration."})]}),h.consent&&c.jsx("p",{className:"text-red-500 text-xs",children:h.consent}),x&&c.jsx("p",{className:"text-red-500 text-xs text-center bg-red-50 p-2 rounded",children:x}),c.jsx(oe,{variant:"primary",size:"lg",className:"w-full mt-2",disabled:p,type:"submit",children:p?c.jsxs(c.Fragment,{children:[c.jsx(Us,{size:18,className:"animate-spin mr-2"}),"Processing..."]}):"Confirm Booking"})]})})]})]})})})}):null});Ys.displayName="BookingModal";Ys.propTypes={isOpen:j.bool.isRequired,onClose:j.func.isRequired,gameId:j.string,score:j.number,category:j.object,riskGaps:j.array,initialName:j.string,initialMobile:j.string};const Xs=f.memo(function({score:t,finalScore:s,userName:n,timeline:i,category:o,onRestart:r,gameId:l,riskGaps:a}){const[u,d]=f.useState(!1),[h,m]=f.useState(!1),{label:p,subtext:g,badgeColor:x,textColor:v}=f.useMemo(()=>s>=90?{label:"HIGH PROTECTION",subtext:"You're well prepared! Keep maintaining your financial safety net.",badgeColor:"bg-emerald-100 text-emerald-700 border-emerald-200",textColor:"text-emerald-700"}:s>=70?{label:"MEDIUM PROTECTION",subtext:"Good foundation, but there's room to improve your coverage.",badgeColor:"bg-blue-100 text-blue-700 border-blue-200",textColor:"text-blue-700"}:{label:"LOW PROTECTION",subtext:"Life moves faster than planning. Let's strengthen your protection.",badgeColor:"bg-orange-100 text-orange-700 border-orange-200",textColor:"text-orange-700"},[s]),b=async()=>{const S=`Check LifeMilestone - Bajaj Life Insurance Game
LifeMilestone Race
${window.location.href}`,C={title:"Life Milestone Race Score",text:S,url:window.location.href};if(navigator.share)try{await navigator.share(C)}catch(w){console.log("Error sharing:",w)}else navigator.clipboard.writeText(S),alert("Link copied to clipboard!")},y=()=>{window.location.href="tel:18002099999"};return c.jsxs("div",{className:"w-full flex flex-col items-center gap-6 pb-12 animate-fade-in relative",children:[c.jsx("button",{onClick:b,className:"absolute right-0 -top-2 p-2 bg-white/20 backdrop-blur-md rounded-full text-blue-900 border border-white/50 shadow-sm hover:bg-white/40 transition-all z-10",children:c.jsx(ro,{size:20})}),c.jsxs("div",{className:"text-center space-y-1 mt-4",children:[c.jsxs("h1",{className:"text-2xl font-black text-blue-950 uppercase tracking-wider",children:["Hi ",n||"There","!"]}),c.jsx("p",{className:"text-blue-900/60 text-sm font-bold tracking-widest uppercase",children:"Your Score Is"})]}),c.jsxs("div",{className:"relative w-full flex flex-col items-center -mt-4",children:[c.jsx(bt,{score:s}),c.jsxs("div",{className:"flex flex-col items-center gap-3 -mt-4",children:[c.jsx("span",{className:`px-4 py-1.5 rounded-full text-xs font-black uppercase tracking-widest border ${x} shadow-sm`,children:p}),c.jsx("p",{className:`text-center text-sm font-medium ${v} max-w-[280px] leading-relaxed`,children:g})]})]}),c.jsxs("div",{className:"w-full",children:[c.jsxs("button",{onClick:()=>d(!u),className:"w-full bg-gradient-to-r from-blue-600 to-blue-500 text-white p-4 rounded-xl shadow-lg shadow-blue-500/20 flex items-center justify-between group active:scale-[0.98] transition-all",children:[c.jsx("span",{className:"font-bold text-sm uppercase tracking-wide",children:"View Your Journey"}),u?c.jsx(cd,{size:20}):c.jsx(ld,{size:20})]}),c.jsx(je,{children:u&&c.jsx(A.div,{initial:{height:0,opacity:0},animate:{height:"auto",opacity:1},exit:{height:0,opacity:0},className:"overflow-hidden",children:c.jsx("div",{className:"pt-4 px-1",children:c.jsx(Hs,{timeline:i,onContinue:()=>{}})})})})]}),c.jsxs("div",{className:"w-full space-y-4",children:[c.jsx("div",{className:"bg-blue-50/50 border border-blue-100 rounded-xl p-4 backdrop-blur-sm",children:c.jsx("p",{className:"text-blue-900/80 text-xs text-center font-medium leading-relaxed",children:"To know more about insurance & saving products, please connect with our relationship manager."})}),c.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[c.jsxs("button",{onClick:y,className:"flex items-center justify-center gap-2 bg-gradient-to-br from-orange-500 to-orange-600 text-white font-bold py-3.5 px-4 rounded-xl shadow-lg shadow-orange-500/20 active:translate-y-0.5 transition-all text-sm uppercase tracking-wide",children:[c.jsx(vt,{size:18,fill:"currentColor"}),"Call Now"]}),c.jsxs("button",{onClick:()=>m(!0),className:"flex items-center justify-center gap-2 bg-gradient-to-br from-blue-600 to-blue-700 text-white font-bold py-3.5 px-4 rounded-xl shadow-lg shadow-blue-600/20 active:translate-y-0.5 transition-all text-sm uppercase tracking-wide",children:[c.jsx($s,{size:18}),"Book A Slot"]})]})]}),c.jsxs("button",{onClick:r,className:"flex items-center gap-2 text-slate-400 hover:text-slate-600 font-bold text-xs uppercase tracking-widest transition-colors mt-4",children:[c.jsx(hd,{size:14}),"Try Again"]}),c.jsx(Ys,{isOpen:h,onClose:()=>m(!1),gameId:l,score:s,category:o,riskGaps:a,initialName:n})]})});Xs.displayName="ResultScreen";Xs.propTypes={score:j.number,finalScore:j.number,userName:j.string,timeline:j.array,category:j.object,onRestart:j.func,gameId:j.string,riskGaps:j.array};const Nd=10,Ad=f.memo(function({feedback:t,onContinue:s}){if(!t)return null;const n=t.decision==="protected";return c.jsxs(A.div,{className:"w-full flex flex-col items-center gap-5 animate-fade-in",initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},transition:{duration:.3,ease:"easeOut"},children:[c.jsx("div",{className:"w-20 h-20 rounded-full flex items-center justify-center text-[2.5rem]",style:{background:n?"linear-gradient(135deg, rgba(255,140,0,0.2) 0%, rgba(255,102,0,0.1) 100%)":"linear-gradient(135deg, rgba(0,102,178,0.2) 0%, rgba(59,130,246,0.1) 100%)",boxShadow:n?"0 0 24px rgba(255, 140, 0, 0.3)":"0 0 24px rgba(0, 102, 178, 0.3)"},children:n?"":""}),c.jsxs("div",{className:"text-center space-y-2",children:[c.jsx("p",{className:"text-[1.25rem] font-black text-blue-950",children:n?"You're Protected!":"You're Exposed!"}),c.jsx("p",{className:"text-blue-900/70 text-[0.9375rem]",children:t.title}),c.jsxs("p",{className:"text-[1.5rem] font-black",style:{color:n?"#FF8C00":"#3B82F6"},children:[t.delta>0?"+":"",t.delta," points"]})]}),c.jsx(A.button,{onClick:s,whileTap:{scale:.97},className:"font-black text-white text-[1rem] uppercase tracking-wider px-8 py-3 rounded-xl mt-2",style:{background:"linear-gradient(135deg, #0066B2 0%, #3B82F6 100%)",boxShadow:"0 4px 0 #004A80, 0 0 16px rgba(0, 102, 178, 0.3)"},id:"btn-continue-race",children:"Continue "})]})}),Ed=f.memo(function({stageData:t,questionNumber:s}){return t?c.jsxs("div",{className:"w-full text-center space-y-0.5",children:[c.jsx("div",{className:"text-[2.5rem] leading-none mb-1 filter drop-shadow-sm",children:t.emoji}),c.jsx("h2",{className:"text-[1.25rem] font-black text-blue-950 uppercase tracking-widest leading-none",children:t.label}),c.jsx("p",{className:"text-[0.75rem] font-bold text-blue-900/60 uppercase tracking-wide",children:"Financial Risk Ahead"})]}):null}),Md=f.memo(function({current:t,total:s,progress:n}){return c.jsxs("div",{className:"w-full space-y-1",children:[c.jsxs("div",{className:"flex justify-between items-end px-1",children:[c.jsxs("span",{className:"text-[0.8rem] font-bold text-blue-950/80 uppercase tracking-wide",children:["Question ",t,"/",s]}),c.jsxs("span",{className:"text-[0.8rem] font-bold text-blue-950/80",children:[n,"%"]})]}),c.jsx("div",{className:"w-full rounded-full overflow-hidden",style:{height:"10px",backgroundColor:"rgba(255, 255, 255, 0.5)",border:"1px solid rgba(255, 255, 255, 0.6)",boxShadow:"inset 0 1px 2px rgba(0,0,0,0.05)"},children:c.jsx("div",{className:"h-full rounded-full transition-all duration-500 ease-out",style:{width:`${n}%`,background:"linear-gradient(90deg, #FF8C00 0%, #FF6600 100%)",boxShadow:"0 0 8px rgba(255, 140, 0, 0.5)"}})})]})}),Rd=f.memo(function(){const t=Qu(),{gameId:s,phase:n,score:i,currentEvent:o,currentEventIndex:r,eventQueue:l,timeline:a,lastFeedback:u,isTimerActive:d,protectionCategory:h,finalScore:m,riskGaps:p,progressPercent:g,userName:x,selectedStageData:v,startGame:b,selectStage:y,makeDecision:S,handleTimerExpire:C,advanceToNextEvent:w,showThankYou:k,restartGame:P}=t,{timeLeft:T,progress:E}=ed(Nd,C,d);f.useCallback(_=>{k(_==null?void 0:_.name)},[k]);const L=()=>{switch(n){case R.INTRO:return c.jsx(zs,{onStart:b},"intro");case R.STAGE_SELECTION:return c.jsx(Ws,{onSelectStage:y},"stage-select");case R.RACING:return c.jsxs("div",{className:"w-full h-full flex flex-col justify-center gap-3 animate-fade-in px-4 max-w-md mx-auto",style:{padding:"1rem 0"},children:[c.jsxs("div",{className:"flex flex-col gap-2 w-full",children:[c.jsx(Ed,{stageData:v,questionNumber:r+1}),c.jsx(Md,{current:r+1,total:l.length,progress:g}),c.jsx(qs,{score:i})]}),c.jsx("div",{className:"flex-1 flex items-center justify-center w-full py-2",children:c.jsx(Gs,{event:o})}),c.jsx("div",{className:"w-full mt-auto",children:c.jsx(Ks,{onDecision:S,timeLeft:T,timerProgress:E})})]},"racing");case R.EVENT_FEEDBACK:return c.jsx(Ad,{feedback:u,onContinue:w},"feedback");case R.FINISH:case R.SCORE_REVEAL:case R.TIMELINE:case R.CONVERSION:case R.LEAD_FORM:case R.THANK_YOU:return c.jsx(Xs,{score:i,finalScore:m,userName:x,timeline:a,category:h,onRestart:P,gameId:s,riskGaps:p},"result-screen");default:return null}};return c.jsx(_s,{fullScreen:n===R.INTRO,children:c.jsx(je,{mode:"wait",children:L()})})});Rd.displayName="LifeMilestoneRacePage";export{Rd as default};
